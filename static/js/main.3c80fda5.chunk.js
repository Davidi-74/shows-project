(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{119:function(e,t,n){},154:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(19),a=n.n(c),s=(n(119),n(15)),i=n(4),o=n.n(i),u=n(8),j=n(3),b=n(190),l=n(191),d=n(157),O=n(206),x=n(192),p=n(156),h=n(12),f=n.n(h),m="https://d74-users-server.herokuapp.com/users",v=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("".concat(m,"/").concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(m,"/checkLogin/").concat(t,"/").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(m,"/createdByAdmin/").concat(t,"/").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(m,"/getFname/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(m,"/getLoginData/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(m,"/getAllUsersData"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(m,"/getIndCompUserData/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M={checkLogin:g,userCreatedByAdmin:y,updateUser:v,getFname:w,getLoginData:S,getAllUsersData:k,createUser:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(m,"/"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getIndCompUserData:C,deleteUser:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("".concat(m,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllUsersIDs:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(m,"/getAllUsersIDs"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wakeServers:function(){f.a.get(m),f.a.get("https://shows-server.herokuapp.com/")}},I=n(103),E=n(187),D=n(1),T=Object(E.a)({outlined:{"&:hover":{backgroundColor:"#222831",color:"#f7fbfc"},backgroundColor:"#171c22"}}),N=Object(E.a)({outlined:{"&:hover":{backgroundColor:"#222831",color:"#f7fbfc"},backgroundColor:"#393e46"}}),U=Object(E.a)({root:{height:"80x",width:"260px",backgroundColor:"#222831",paddingBottom:"20px"}}),B=Object(E.a)({root:{height:"30px",width:"auto",paddingRight:"10px",paddingLeft:"10px",backgroundColor:"#ffd369",color:"#222831",fontWeight:"bold",paddingTop:"5px"}}),A=Object(E.a)({root:{height:"300px",width:"550px",backgroundColor:"#222831",paddingBottom:"20px"}}),V=Object(E.a)({root:{"&.Mui-disabled":{color:"#ffd369"}}}),L=Object(E.a)({root:{width:"auto",paddingLeft:"20px",paddingRight:"20px"}}),P=(Object(E.a)({textFieldStyle:{color:"secondary",borderColor:"#FFFFFF",border:1,InputLabelProps:{color:"white !important"}}}),Object(I.a)({overrides:{MuiButton:{root:{background:"#222831",border:0,borderRadius:5,color:"#f7fbfc",padding:"0 60px",width:"150px"}},MuiInputLabel:{root:{color:"#f7fbfc"}},MuiFilledInput:{root:{color:"#f7fbfc"}},MuiContainer:{root:{backgroundColor:"#222831",color:"#f7fbfc",textAlign:"center",fontFamily:"Calibri",fontSize:20,height:"100vh",display:"flex",flexDirection:"column"}},MuiFormHelperText:{root:{color:"#f7fbfc"}},MuiSelect:{root:{color:"#f7fbfc"}},MuiPaper:{root:{backgroundColor:"#393e46",color:"#f7fbfc",paddingTop:"10px",marginBottom:"10px",marginTop:"10px",width:"600px",textAlign:"center"}},MuiAppBar:{root:{margin:0}},MuiTextField:{root:{width:"300px"}},MuiSkeleton:{root:{margin:"15px",borderRadius:5}},MuiPaginationItem:{root:{backgroundColor:"#393e46"}}},palette:{primary:{main:"#f7fbfc"},secondary:{main:"#ffd369"}},props:{MuiTextField:{variant:"filled",size:"small"},MuiButton:{variant:"outlined"},MuiPaper:{elevation:5},MuiContainer:{maxWidth:!1},MuiSkeleton:{variant:"rect"},MuiPagination:{variant:"outlined",color:"secondary",size:"large"}},shape:{borderRadius:5},spacing:8,typography:{fontFamily:"Helvetica",fontSize:16}})),F=function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),i=Object(j.a)(s,2),h=i[0],f=i[1],m=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==c||""==h){t.next=7;break}return t.next=3,M.userCreatedByAdmin(c,h);case 3:"exists"==(n=t.sent)?alert("User Already Exists!"):n?n&&(alert("User Created!"),e.history.push("/")):alert("User Not Found! Please Contact the System Admin"),t.next=8;break;case 7:alert("Please make sure to fill out each field!");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=L();return Object(D.jsx)(b.a,{style:{paddingTop:"100px"},children:Object(D.jsx)(l.a,{container:!0,justify:"center",children:Object(D.jsx)(d.a,{className:v.root,children:Object(D.jsxs)("div",{children:[Object(D.jsx)("h1",{children:"Welcome to the TV Shows Subscriptions Site"}),Object(D.jsx)("h3",{children:"Create Account"}),Object(D.jsx)(O.a,{label:"Username",onChange:function(e){return a(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{label:"Password",type:"password",onChange:function(e){return f(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{onClick:function(){return e.history.push("/")},children:"Cancel"}),Object(D.jsx)(p.a,{onClick:m,children:"Create User"})]}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})})})})},R=n(17),H=n(11),W=n(13),G=n(194),z=n(207),J=n(195),Y=n(193),$=Object(H.b)()((function(e){var t=Object(H.c)((function(e){return e.user.timer})),n=Object(H.c)((function(e){return e.user.sessionTimeout})),c=Object(r.useState)(""),a=Object(j.a)(c,2),s=a[0],i=a[1],o=function(){e.dispatch({type:"LOGOUT"}),e.history.push("/")};return Object(r.useEffect)((function(){!function(){var e=new Date(t.getTime()+n),r=setInterval((function(){var t=(new Date).getTime(),n=e-t,c=Math.floor(n%36e5/6e4),a=Math.floor(n%6e4/1e3);i("Session Time: "+c+"m "+a+"s"),n<0&&(clearInterval(r),o())}),1e3)}()}),[]),Object(D.jsxs)("div",{children:[s&&Object(D.jsx)("div",{style:{color:"#acafb0",fontSize:14},children:s}),!s&&Object(D.jsx)(Y.a,{width:"150px",height:"17px",animation:"wave",style:{paddingRight:"0px",marginBottom:"0px"}})]})})),q=Object(H.b)()((function(e){var t=Object(H.c)((function(e){return e.user})),n=Object(r.useState)(Object(D.jsx)("span",{})),c=Object(j.a)(n,2),a=c[0],s=c[1],i=function(){return""!=t.id||(o(),!1)},o=function(){e.dispatch({type:"LOGOUT"}),e.history.push("/")};return Object(r.useEffect)((function(){i(),function(){var n;t.admin?s(Object(D.jsx)(p.a,(n={onClick:function(){return e.history.push("/usersManagement")},style:{lineHeight:"20px"}},Object(W.a)(n,"style",{width:"210px"}),Object(W.a)(n,"className",a),Object(W.a)(n,"children","Users Management"),n))):s("")}()}),[]),Object(D.jsx)("div",{children:Object(D.jsx)(G.a,{style:{backgroundColor:"#393e46",paddingBottom:"2vh"},children:Object(D.jsxs)(l.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(D.jsx)(l.a,{item:!0,xs:12,children:Object(D.jsx)("h2",{style:{color:"#f7fbfc",marginBottom:"10px",fontFamily:"Helvetica"},children:"TV Shows Subscriptions Site"})}),Object(D.jsx)(l.a,{item:!0,xs:12,container:!0,justify:"center",alignItems:"center",children:Object(D.jsxs)("span",{style:{color:"#f7fbfc"},children:["Hello, ",t.fname]})}),Object(D.jsxs)(l.a,{item:!0,container:!0,xs:12,direction:"row",children:[Object(D.jsx)(l.a,{item:!0,xs:2}),Object(D.jsx)(l.a,{item:!0,container:!0,justify:"center",xs:8,children:Object(D.jsx)(z.a,{flex:1,display:"flex",justifyContent:"center",alignItems:"center",children:Object(D.jsx)(J.a,{children:Object(D.jsxs)(x.a,{maxWidth:"false",style:{height:"50px"},children:[Object(D.jsx)(p.a,{style:{width:"210px"},onClick:function(){return e.history.push("/movies/1")},children:"TV Shows"}),"\xa0",Object(D.jsx)(p.a,{style:{width:"210px"},onClick:function(){return e.history.push("/subscriptions")},children:"Subscriptions"}),"\xa0",a,Object(D.jsx)(p.a,{style:{width:"210px"},onClick:o,children:"Logout"})]})})})}),Object(D.jsx)(l.a,{container:!0,justify:"flex-end",alignItems:"flex-end",style:{paddingRight:"15px",marginBottom:"8px"},xs:2,children:i()&&Object(D.jsx)($,{history:e.history})})]})]})})})})),K="https://shows-server.herokuapp.com",Q={getAll:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(K,"/movies/getAllMovies"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllIds:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(K,"/movies/getAllMoviesIDs"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(K,"/movies/getbyid/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createMovie:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(K,"/movies/"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteMovie:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("".concat(K,"/movies/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),formatDate:function(e){var t=new Date(e).toLocaleDateString().split("/");return t[1]<10&&(t[1]="0"+t[1]),t[0]<10&&(t[0]="0"+t[0]),t[2]+"-"+t[0]+"-"+t[1]},updateMovie:function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("".concat(K,"/movies/").concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),searchMovie:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(K,"/movies/search/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getNameById:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(K,"/movies/getnamebyid/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getNamesAndIds:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(K,"/movies/getNamesAndIds"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getIdsByPage:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(K,"/movies/getMoviesByPage/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPagesCount:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(K,"/movies/getPagesCount"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},X=n(210),Z=n(196),_=(n(24),Object(s.g)(Object(H.b)()((function(e){var t=Object(H.c)((function(e){return e.editUser.id})),n=Object(r.useState)({}),c=Object(j.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(!1),h=Object(j.a)(i,2),f=h[0],m=h[1],v=Object(r.useState)(""),g=Object(j.a)(v,2),y=g[0],w=g[1],S=Object(r.useState)(""),k=Object(j.a)(S,2),C=k[0],I=k[1],E=Object(r.useState)(""),T=Object(j.a)(E,2),N=T[0],U=T[1],B=Object(r.useState)(""),A=Object(j.a)(B,2),V=A[0],L=A[1],P=Object(r.useState)(""),F=Object(j.a)(P,2),W=F[0],G=F[1],J=Object(r.useState)([]),Y=Object(j.a)(J,2),$=Y[0],K=Y[1],_=Object(r.useState)(!1),ee=Object(j.a)(_,2),te=ee[0],ne=ee[1],re=Object(r.useState)(!1),ce=Object(j.a)(re,2),ae=ce[0],se=ce[1],ie=Object(r.useState)(!1),oe=Object(j.a)(ie,2),ue=oe[0],je=oe[1],be=Object(r.useState)(!1),le=Object(j.a)(be,2),de=le[0],Oe=le[1],xe=Object(r.useState)(!1),pe=Object(j.a)(xe,2),he=pe[0],fe=pe[1],me=Object(r.useState)(!1),ve=Object(j.a)(me,2),ge=ve[0],ye=ve[1],we=Object(r.useState)(!1),Se=Object(j.a)(we,2),ke=Se[0],Ce=Se[1],Me=Object(r.useState)(!1),Ie=Object(j.a)(Me,2),Ee=Ie[0],De=Ie[1],Te=function(e){var t=-1;if($.forEach((function(n,r){n==e&&(t=r)})),-1==t){var n=Object(R.a)($);n.push(e),"Create Subscriptions"==e||"Update Subscriptions"==e||"Delete Subscriptions"==e?te||(ne(!0),n.push("View Subscriptions")):"Create Movies"!=e&&"Update Movies"!=e&&"Delete Movies"!=e||ae||(se(!0),n.push("View Movies")),K(n)}else{var r=Object(R.a)($);r.splice(t,1),K(r)}},Ne=function(){var n=Object(u.a)(o.a.mark((function n(){var r,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(""!=y&&""!=C&&""!=N&&"number"==typeof Number(V)&&$.length>0)){n.next=8;break}return r={fname:y,lname:C,username:N,sessionTimeout:Number(V),permissions:$},c=Ue(r),n.next=5,M.updateUser(t,c);case 5:e.history.push("/usersManagement"),n.next=9;break;case 8:alert("Please make sure you enter valid values!");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Ue=function(e){var t=e.fname.charAt(0).toUpperCase()+e.fname.slice(1),n=e.lname.charAt(0).toUpperCase()+e.lname.slice(1),r=e.sessionTimeout;r*=6e4;var c=new Date(W);return{fname:t,lname:n,dateCreated:c=c.toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric"}),username:N,sessionTimeout:r,permissions:$}};return Object(r.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getIndCompUserData(t);case 2:n=e.sent,s(n),m(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){!function(){if(f){w(a.fname),I(a.lname),U(a.username),L(a.sessionTimeout/6e4);var e=Q.formatDate(a.dateCreated);G(e);var t=[];a.permissions.forEach((function(e){"View Subscriptions"==e?(t.push(e),ne(!0)):"Create Subscriptions"==e?(t.push(e),je(!0)):"Update Subscriptions"==e?(t.push(e),Oe(!0)):"Delete Subscriptions"==e?(t.push(e),fe(!0)):"View Movies"==e?(t.push(e),se(!0)):"Create Movies"==e?(t.push(e),ye(!0)):"Update Movies"==e?(t.push(e),Ce(!0)):"Delete Movies"==e&&(t.push(e),De(!0))})),K(t)}}()}),[f]),Object(D.jsxs)(b.a,{children:[Object(D.jsxs)(z.a,{style:{marginBottom:"150px"},children:[Object(D.jsx)(q,{history:e.history}),Object(D.jsx)("br",{})]}),Object(D.jsx)(z.a,{className:"innerBox",children:Object(D.jsx)(l.a,{container:!0,justify:"center",style:{paddingBottom:"50px"},children:Object(D.jsxs)(d.a,{style:{marginTop:"30px"},children:[Object(D.jsxs)("h3",{children:["Edit ",a.username]}),Object(D.jsx)(O.a,{type:"text",value:y,label:"First Name",onChange:function(e){return w(e.target.value)}})," ",Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{type:"text",value:C,label:"Last Name",onChange:function(e){return I(e.target.value)}})," ",Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{type:"text",value:N,label:"Username",onChange:function(e){return U(e.target.value)}})," ",Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{type:"number",value:V,inputProps:{min:"1"},label:"Session Timeout (Minutes)",onChange:function(e){return L(e.target.value)}})," ",Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{type:"date",value:W,label:"Date Created",disabled:!0,InputProps:{style:{color:"#acafb0"}},InputLabelProps:{style:{color:"#acafb0"}}}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)("b",{children:"Permissions: "})," ",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsxs)(l.a,{container:!0,justify:"center",direction:"row",alignItems:"center",style:{lineHeight:"8px"},children:[Object(D.jsxs)(l.a,{container:!0,xs:5,direction:"column",justify:"center",alignItems:"flex-start",children:[Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"View Subscriptions",checked:te,onChange:function(e){ne(!te),Te(e.target.value)}}),"View Subscriptions"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Create Subscriptions",checked:ue,onChange:function(e){je(!ue),Te(e.target.value)}}),"Create Subscriptions"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Update Subscriptions",checked:de,onChange:function(e){Oe(!de),Te(e.target.value)}}),"Update Subscriptions"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Delete Subscriptions",checked:he,onChange:function(e){fe(!he),Te(e.target.value)}}),"Delete Subscriptions"]}),Object(D.jsx)("br",{})]}),Object(D.jsx)(Z.a,{orientation:"vertical",xs:2,flexItem:!0}),Object(D.jsxs)(l.a,{container:!0,xs:5,direction:"column",justify:"center",alignItems:"flex-start",style:{paddingLeft:"60px"},children:[Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"View Movies",checked:ae,onChange:function(e){se(!ae),Te(e.target.value)}}),"View Movies"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Create Movies",checked:ge,onChange:function(e){ye(!ge),Te(e.target.value)}}),"Create Movies"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Update Movies",checked:ke,onChange:function(e){Ce(!ke),Te(e.target.value)}}),"Update Movies"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Delete Movies",checked:Ee,onChange:function(e){De(!Ee),Te(e.target.value)}}),"Delete Movies"]}),Object(D.jsx)("br",{})]})]}),Object(D.jsx)("br",{}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{onClick:function(){e.dispatch({type:"EDITUSER",payload:{id:""}}),e.history.push("/usersManagement")},children:"Cancel"}),Object(D.jsx)(p.a,{onClick:Ne,children:"Edit"})]}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})})})]})})))),ee=n(31),te=n(197),ne=Object(H.b)()((function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),i=Object(j.a)(s,2),x=i[0],h=i[1],f=Object(r.useState)(""),m=Object(j.a)(f,2),v=m[0],g=m[1],y=function(){var t=Object(u.a)(o.a.mark((function t(n){var r,a,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""===c||""===x){t.next=20;break}return r=c.toLowerCase(),g(Object(D.jsx)("span",{children:Object(D.jsx)(te.a,{color:"secondary"})})),t.next=6,M.checkLogin(r,x);case 6:if(!(a=t.sent).valid){t.next=17;break}return t.next=10,M.getLoginData(a.id);case 10:s=t.sent,i=new Date,u={type:"LOGIN",payload:{id:a.id,fname:s.fname,admin:s.admin,permissions:s.permissions,timer:i,sessionTimeout:s.sessionTimeout}},e.dispatch(u),e.history.push("/movies/1"),t.next=18;break;case 17:alert("Invalid Username/Password!");case 18:t.next=21;break;case 20:alert("Please enter a Username and Password");case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){M.wakeServers()}),[]);var w=L();return Object(D.jsx)(b.a,{style:{paddingTop:"100px"},children:Object(D.jsx)(l.a,{container:!0,justify:"center",children:Object(D.jsx)(d.a,{className:w.root,children:Object(D.jsxs)(l.a,{item:!0,container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(D.jsx)("h1",{xs:12,style:{marginBottom:"0px"},children:"Welcome to the TV Shows Subscriptions Site"}),Object(D.jsx)("h3",{xs:12,children:"Log In"}),Object(D.jsxs)("form",{onSubmit:function(e){return y(e)},children:[Object(D.jsx)(O.a,{xs:12,type:"text",label:"Username",onChange:function(e){return a(e.target.value)}})," ",Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{xs:12,type:"password",label:"Password",onChange:function(e){return h(e.target.value)}})," ",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),""!=v?v:null,Object(D.jsx)("br",{}),Object(D.jsx)(p.a,{xs:12,type:"submit",children:"Login"}),Object(D.jsx)("br",{})," ",Object(D.jsx)("br",{})]}),Object(D.jsxs)("span",{xs:12,children:["New Here? ",Object(D.jsx)(ee.b,{style:{color:"#ffd369"},to:"/createAccount",children:"Create a New Account"})]}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})})})})})),re=function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),i=Object(j.a)(s,2),b=i[0],h=i[1],f=Object(r.useState)(""),m=Object(j.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),S=w[0],k=w[1],C=Object(r.useState)([]),I=Object(j.a)(C,2),E=I[0],T=I[1],N=Object(r.useState)(!1),U=Object(j.a)(N,2),B=U[0],A=U[1],V=Object(r.useState)(!1),L=Object(j.a)(V,2),P=L[0],F=L[1],H=function(e){var t=-1;if(E.forEach((function(n,r){n==e.target.value&&(t=r)})),-1==t){var n=Object(R.a)(E);n.push(e.target.value),"Create Subscriptions"==e.target.value||"Update Subscriptions"==e.target.value||"Delete Subscriptions"==e.target.value?B||(A(!0),n.push("View Subscriptions")):"Create Movies"!=e.target.value&&"Update Movies"!=e.target.value&&"Delete Movies"!=e.target.value||P||(F(!0),n.push("View Movies")),T(n)}else{var r=Object(R.a)(E);r.splice(t,1),T(r)}},W=function(){var t=Object(u.a)(o.a.mark((function t(n){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!(""!=c&&""!=b&&""!=v&&"number"==typeof Number(S)&&E.length>0)){t.next=10;break}return r={fname:c,lname:b,username:v,sessionTimeout:Number(S),permissions:E},a=G(r),console.log(a),t.next=7,M.createUser(a);case 7:e.added(),t.next=11;break;case 10:alert("Please make sure you enter valid values!");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(e){var t=e.fname.charAt(0).toUpperCase()+e.fname.slice(1),n=e.lname.charAt(0).toUpperCase()+e.lname.slice(1),r=e.sessionTimeout;r*=6e4;var c=new Date;return{fname:t,lname:n,dateCreated:c=c.toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric"}),username:v,sessionTimeout:r,permissions:E}};return Object(D.jsx)("div",{style:{paddingBottom:"30px"},children:Object(D.jsx)(l.a,{container:!0,justify:"center",children:Object(D.jsxs)(d.a,{children:[Object(D.jsx)("h3",{children:"Add a New User"}),Object(D.jsxs)("form",{onSubmit:function(e){return W(e)},children:[Object(D.jsx)(O.a,{type:"text",label:"First Name",onChange:function(e){return a(e.target.value)}})," ",Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{type:"text",label:"Last Name",onChange:function(e){return h(e.target.value)}})," ",Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{type:"text",label:"Username",onChange:function(e){return g(e.target.value)}})," ",Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{type:"number",inputProps:{min:"1"},label:"Session Timeout (Minutes)",onChange:function(e){return k(e.target.value)}})," ",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)("b",{children:"Permissions: "})," ",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsxs)(l.a,{container:!0,justify:"center",direction:"row",alignItems:"center",style:{lineHeight:"8px"},children:[Object(D.jsxs)(l.a,{container:!0,xs:5,direction:"column",justify:"flex-start",alignItems:"flex-start",children:[Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"View Subscriptions",checked:B,onChange:function(e){A(!B),H(e)}}),"View Subscriptions"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Create Subscriptions",onChange:function(e){return H(e)}}),"Create Subscriptions"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Update Subscriptions",onChange:function(e){return H(e)}}),"Update Subscriptions"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Delete Subscriptions",onChange:function(e){return H(e)}}),"Delete Subscriptions"]}),Object(D.jsx)("br",{})]}),Object(D.jsx)(Z.a,{orientation:"vertical",xs:2,flexItem:!0}),Object(D.jsxs)(l.a,{container:!0,xs:5,direction:"column",justify:"center",alignItems:"flex-start",style:{paddingLeft:"60px"},children:[Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"View Movies",checked:P,onChange:function(e){F(!P),H(e)}}),"View TV Shows"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Create Movies",onChange:function(e){return H(e)}}),"Create TV Shows"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Update Movies",onChange:function(e){return H(e)}}),"Update TV Shows"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Delete Movies",onChange:function(e){return H(e)}}),"Delete TV Shows"]}),Object(D.jsx)("br",{})]})]}),Object(D.jsx)("br",{}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{onClick:function(){return e.added()},children:"Cancel"}),Object(D.jsx)(p.a,{type:"submit",children:"Save"})]}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})]})})})},ce=n(25),ae=n(211),se=n(201),ie=n(199),oe=n(200),ue=n(198),je=Object(s.g)(Object(H.b)()((function(e){var t=Object(r.useState)({}),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!1),i=Object(j.a)(s,2),b=i[0],O=i[1],h=Object(r.useState)(""),f=Object(j.a)(h,2),m=f[0],v=f[1],g=Object(r.useState)(""),y=Object(j.a)(g,2),w=y[0],S=y[1],k=Object(r.useState)(!1),C=Object(j.a)(k,2),I=C[0],E=C[1],T=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.deleteUser(e.id);case 2:e.deleted();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=function(){E(!1)};Object(r.useEffect)((function(){(function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.getIndCompUserData(e.id);case 2:n=t.sent,a(n),O(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){!function(){if(b){var e=new Date(c.dateCreated);e=e.toLocaleDateString("en-GB"),v(e);var t="";c.permissions.forEach((function(e){var n=e.replace(/\s+/g,"");n=n[0].toLowerCase()+n.slice(1);var r=Object(ce.a)(Object(ce.a)({},t),{},Object(W.a)({},n,!0));t=r})),S(t)}}()}),[b]);var L=U(),P=A(),F=B(),R=V();return Object(D.jsxs)("div",{children:[Object(D.jsxs)(l.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(D.jsx)(l.a,{item:12,container:!0,justify:"center",children:Object(D.jsx)("h3",{style:{marginBottom:"10px"},children:c.username})}),Object(D.jsx)(l.a,{container:!0,item:!0,xs:12,justify:"center",children:Object(D.jsx)(Z.a,{style:{width:"500px",height:"2px",marginBottom:"10px"}})}),Object(D.jsxs)(l.a,{item:!0,xs:12,direction:"row",container:!0,justify:"space-evenly",children:[Object(D.jsx)(d.a,{className:L.root,children:Object(D.jsxs)(l.a,{container:!0,justify:"center",textAlign:"center",children:[Object(D.jsx)(l.a,{item:!0,xs:"12",children:Object(D.jsx)("h4",{className:"indUserHeaders",children:"First Name"})}),Object(D.jsx)(d.a,{className:F.root,children:c.fname})]})}),Object(D.jsx)(d.a,{className:L.root,children:Object(D.jsxs)(l.a,{container:!0,justify:"center",textAlign:"center",children:[Object(D.jsx)(l.a,{item:!0,xs:"12",children:Object(D.jsx)("h4",{className:"indUserHeaders",children:"Last Name"})}),Object(D.jsx)(d.a,{className:F.root,children:c.lname})]})})]}),Object(D.jsxs)(l.a,{item:!0,xs:12,container:!0,direction:"row",justify:"space-evenly",children:[Object(D.jsx)(d.a,{className:L.root,children:Object(D.jsxs)(l.a,{container:!0,justify:"center",textAlign:"center",children:[Object(D.jsx)(l.a,{item:!0,xs:"12",children:Object(D.jsx)("h4",{className:"indUserHeaders",children:"Session Timeout"})}),Object(D.jsx)(d.a,{className:F.root,children:c.sessionTimeout/6e4+" Minutes"})]})}),Object(D.jsx)(d.a,{className:L.root,children:Object(D.jsxs)(l.a,{container:!0,justify:"center",textAlign:"center",children:[Object(D.jsx)(l.a,{item:!0,xs:"12",children:Object(D.jsx)("h4",{className:"indUserHeaders",children:"Date Created"})}),Object(D.jsx)(d.a,{className:F.root,children:m})]})})]}),Object(D.jsx)(l.a,{item:!0,xs:12,container:!0,justify:"center",children:Object(D.jsxs)(d.a,{className:P.root,children:[Object(D.jsx)("h4",{children:"Permissions"}),Object(D.jsxs)(l.a,{container:!0,justify:"center",direction:"row",alignItems:"center",style:{lineHeight:"8px"},children:[Object(D.jsxs)(l.a,{container:!0,xs:5,direction:"column",justify:"flex-start",alignItems:"flex-start",children:[Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"View Subscriptions",disabled:!0,className:R.root,checked:!!w.viewSubscriptions}),"View Subscriptions"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Create Subscriptions",disabled:!0,className:R.root,checked:!!w.createSubscriptions}),"Create Subscriptions"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Update Subscriptions",disabled:!0,className:R.root,checked:!!w.updateSubscriptions}),"Update Subscriptions"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Delete Subscriptions",disabled:!0,className:R.root,checked:!!w.deleteSubscriptions}),"Delete Subscriptions"]}),Object(D.jsx)("br",{})]}),Object(D.jsx)(Z.a,{orientation:"vertical",xs:2,flexItem:!0}),Object(D.jsxs)(l.a,{container:!0,xs:5,direction:"column",justify:"center",alignItems:"flex-start",style:{paddingLeft:"10px"},children:[Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"View Movies",disabled:!0,className:R.root,checked:!!w.viewMovies}),"View TV Shows"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Create Movies",disabled:!0,className:R.root,checked:!!w.createMovies}),"Create TV Shows"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Update Movies",disabled:!0,className:R.root,checked:!!w.updateMovies}),"Update TV Shows"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("label",{children:[Object(D.jsx)(X.a,{value:"Delete Movies",disabled:!0,className:R.root,checked:!!w.deleteMovies}),"Delete TV Shows"]}),Object(D.jsx)("br",{})]})]})]})})]}),Object(D.jsx)("br",{}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{onClick:function(){var t={type:"EDITUSER",payload:{id:e.id}};e.dispatch(t),e.history.push("/edituser")},children:"Edit"}),"\xa0",Object(D.jsx)(p.a,{onClick:function(){E(!0)},children:"Delete"})]}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsxs)(ae.a,{open:I,onClose:N,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(D.jsxs)(z.a,{textAlign:"left",children:[Object(D.jsx)(ue.a,{id:"alert-dialog-title",children:"Delete ".concat(c.username,"?")}),Object(D.jsx)(ie.a,{children:Object(D.jsx)(oe.a,{id:"alert-dialog-description",style:{color:"#f7fbfc"},children:"".concat(c.username," will be deleted permanently and we will not be able to restore it.")})})]}),Object(D.jsxs)(se.a,{children:[Object(D.jsx)(p.a,{onClick:N,children:"Cancel"}),Object(D.jsx)(p.a,{onClick:function(){N(),T()},autoFocus:!0,children:"Delete"})]})]})]})}))),be=function(e){var t=Object(H.c)((function(e){return e.user})),n=Object(r.useState)([]),c=Object(j.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(""),b=Object(j.a)(i,2),O=b[0],x=b[1],p=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getAllUsersIDs();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){p()};return Object(r.useEffect)((function(){var e=!1;t.permissions.forEach((function(t){"View Subscriptions"==t?e=!0:x(Object(D.jsxs)("div",{children:[Object(D.jsx)("h4",{children:"We're Sorry!"}),Object(D.jsx)("h4",{children:"This page is visible only to users with the right permission"})]}))})),e&&p()}),[]),Object(r.useEffect)((function(){var t=a.map((function(t,n){return Object(D.jsx)(d.a,{style:{padding:20,paddingTop:0},children:Object(D.jsx)(je,{id:t,deleted:h,edit:function(){e.edited()}},"user"+n)},"userPaper"+n)}));x(t)}),[a]),Object(D.jsx)("div",{style:{paddingBottom:"30px"},children:Object(D.jsx)(l.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center",children:O})})},le=function(e){var t=Object(H.c)((function(e){return e.user})),n=Object(r.useState)(Object(D.jsx)(be,{})),c=Object(j.a)(n,2),a=c[0],s=c[1];Object(r.useEffect)((function(){t.admin||e.history.push("/")}),[]);var i=N();return Object(D.jsxs)(b.a,{children:[Object(D.jsxs)(z.a,{style:{marginBottom:"150px"},children:[Object(D.jsx)(q,{history:e.history}),Object(D.jsx)("br",{})]}),Object(D.jsxs)(z.a,{className:"innerBox",children:[Object(D.jsx)("h3",{children:"Users"}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{className:i.outlined,onClick:function(){return s(Object(D.jsx)(be,{added:function(){return s(Object(D.jsx)(be,{}))}}))},children:"All Users"}),"\xa0",Object(D.jsx)(p.a,{className:i.outlined,onClick:function(){return s(Object(D.jsx)(re,{added:function(){return s(Object(D.jsx)(be,{}))}}))},children:"Add User"})]}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),a]})]})},de=Object(H.b)()((function(e){var t=Object(H.c)((function(e){return e.user})),n=Object(r.useState)(Object(D.jsx)("span",{})),c=Object(j.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(Object(D.jsx)("span",{})),o=Object(j.a)(i,2),u=o[0],d=o[1];return Object(r.useEffect)((function(){t.admin&&s(Object(D.jsxs)("span",{children:[Object(D.jsx)("input",{type:"button",value:"Users Management",className:a,onClick:function(){return d(Object(D.jsx)(le,{}))}}),"\xa0"]}))}),[]),Object(D.jsx)("div",{children:Object(D.jsxs)(b.a,{maxWidth:!1,style:{paddingTop:"10vh"},children:[Object(D.jsx)(q,{history:e.history}),Object(D.jsxs)(l.a,{children:[Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),u]})]})})})),Oe=function(e){var t=Object(H.c)((function(e){return e.user})),n=Object(r.useState)("visible"),c=Object(j.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(""),b=Object(j.a)(i,2),h=b[0],f=b[1],m=Object(r.useState)(""),v=Object(j.a)(m,2),g=v[0],y=v[1],w=Object(r.useState)(""),S=Object(j.a)(w,2),k=S[0],C=S[1],M=Object(r.useState)(""),I=Object(j.a)(M,2),E=I[0],T=I[1],N=Object(r.useState)(null),U=Object(j.a)(N,2),B=U[0],A=U[1],V=function(){var t=Object(u.a)(o.a.mark((function t(){var n,r,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==g||""==k||""==E||null==B){t.next=11;break}return n=new Date(B),r=/\s*(?:,|$)\s*/,c=k.split(r),a={name:g,genres:c,image:E,premiered:n},console.log(a),t.next=8,Q.createMovie(a);case 8:e.added(),t.next=12;break;case 11:alert("Please make sure to fill out every field!");case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=!1;(t.permissions.forEach((function(t){"Create Movies"==t&&(e=!0)})),e)||(f(Object(D.jsxs)("div",{children:[Object(D.jsx)("h4",{children:"We're Sorry!"}),Object(D.jsx)("h4",{children:"This page is visible only to users with the right permission"})]})),s("collapse"))}),[]),Object(D.jsxs)("div",{children:[h,Object(D.jsx)("span",{className:a,children:Object(D.jsx)(l.a,{container:!0,justify:"center",children:Object(D.jsxs)(d.a,{children:[Object(D.jsx)("h3",{children:"Add a New TV Show"}),Object(D.jsx)(O.a,{label:"Name",onChange:function(e){return y(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{label:"Genres",onChange:function(e){return C(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{label:"Image URL",onChange:function(e){return T(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{label:"Premiered",type:"date",onChange:function(e){return A(e.target.value)},InputLabelProps:{shrink:!0}}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{onClick:e.added,children:"Cancel"}),"\xa0",Object(D.jsx)(p.a,{onClick:V,children:"Create"})]}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})})})]})},xe=Object(s.g)(Object(H.b)()((function(e){var t=Object(H.c)((function(e){return e.user})),n=Object(r.useState)({}),c=Object(j.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(""),b=Object(j.a)(i,2),O=b[0],h=b[1],f=Object(r.useState)(null),m=Object(j.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)(!1),w=Object(j.a)(y,2),S=w[0],k=w[1],C=Object(r.useState)(!0),M=Object(j.a)(C,2),I=M[0],E=M[1],T=Object(r.useState)(!1),N=Object(j.a)(T,2),U=N[0],B=N[1],A=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.getById(t);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var n=Object(u.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=!1,t.permissions.forEach((function(e){"Delete Movies"==e&&(r=!0)})),!r){n.next=8;break}return n.next=5,Q.deleteMovie(e.id);case 5:e.deleted(),n.next=9;break;case 8:alert("This option is available only to users with the right permission!");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();e.searched&&I&&(A(e.id),E(!1));var L=function(){B(!1)};return Object(r.useEffect)((function(){A(e.id),k(!0)}),[e.id]),Object(r.useEffect)((function(){if(S){var e=new Date(a.premiered);e=e.getFullYear(),h(e);var t=a.genres;if(0==t.length)g("No genres available!");else{var n="";t.forEach((function(e,r){r==t.length-1?n+=e:n+=e+", "})),g(n)}}}),[a]),Object(D.jsxs)("div",{children:[v&&Object(D.jsx)("div",{children:Object(D.jsxs)(l.a,{container:!0,justify:"center",direction:"column",alignItems:"center",children:[Object(D.jsx)(d.a,{style:{width:"215px",height:"300px",backgroundColor:"#222831",paddingTop:"5px",paddingLeft:"2px",paddingRight:"2px"},children:Object(D.jsx)(z.a,{paddingTop:"0",children:Object(D.jsx)("img",{src:a.image,style:{borderRadius:3}})})}),Object(D.jsxs)("h3",{children:[a.name,", ",O]}),v," ",Object(D.jsx)("br",{})," ",Object(D.jsx)("br",{}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{onClick:function(){var n=!1;if(t.permissions.forEach((function(e){"Update Movies"==e&&(n=!0)})),n){var r={type:"EDITMOVIE",payload:{id:e.id}};e.dispatch(r),e.history.push("/editMovie")}else alert("This option is available only to users with the right permission!")},children:"Edit"}),Object(D.jsx)(p.a,{onClick:function(){B(!0)},children:"Delete"})]}),Object(D.jsxs)(ae.a,{open:U,onClose:L,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(D.jsxs)(z.a,{textAlign:"left",children:[Object(D.jsx)(ue.a,{id:"alert-dialog-title",children:"Delete ".concat(a.name,"?")}),Object(D.jsx)(ie.a,{children:Object(D.jsx)(oe.a,{id:"alert-dialog-description",style:{color:"#f7fbfc"},children:"".concat(a.name," will be deleted permanently and we will not be able to restore it.")})})]}),Object(D.jsxs)(se.a,{children:[Object(D.jsx)(p.a,{onClick:L,children:"Cancel"}),Object(D.jsx)(p.a,{onClick:function(){L(),V()},autoFocus:!0,children:"Delete"})]})]}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})}),!v&&Object(D.jsx)("div",{children:Object(D.jsxs)(l.a,{container:!0,justify:"center",alignItems:"center",direction:"column",children:[Object(D.jsx)(Y.a,{width:"210px",height:"300px"}),Object(D.jsx)(Y.a,{width:"270px",height:"24px"}),Object(D.jsx)(Y.a,{width:"200px",height:"24px"}),Object(D.jsx)(Y.a,{width:"300px",height:"40px",style:{marginBottom:"30px"}})]})})]})}))),pe=n(202),he=n(101),fe=n.n(he),me=function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!1),i=Object(j.a)(s,2),b=i[0],l=i[1],d=function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(c),l(!0),""!=n&&n.preventDefault(),""!=c){t.next=7;break}e.search(-1),t.next=11;break;case 7:return t.next=9,Q.searchMovie(String(c));case 9:r=t.sent,e.search(r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){""==c&&b&&(d(""),l(!1))}),[c]),Object(D.jsx)("div",{children:Object(D.jsx)("form",{onSubmit:function(e){return d(e)},children:Object(D.jsx)(O.a,{placeholder:"Search...",InputProps:{startAdornment:Object(D.jsx)(pe.a,{position:"start",style:{marginBottom:"12px"},children:Object(D.jsx)(fe.a,{})})},inputProps:{style:{marginBottom:"12px"}},style:{width:"300px",marginBottom:"20px"},onChange:function(e){return a(e.target.value)}})})})},ve=n(208),ge=function(e){var t=Object(r.useState)([]),n=Object(j.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){!function(){for(var e=[],t=0;t<12;t++){var n=Object(D.jsx)(l.a,{container:!0,item:!0,alignItems:"center",justify:"center",xs:4,xl:3,children:Object(D.jsx)(Y.a,{width:"400px",height:"540px"})});e.push(n)}a(e)}()}),[]),c},ye=Object(s.g)((function(e){var t=Object(s.f)(),n=Object(H.c)((function(e){return e.user})),c=Object(r.useState)([]),a=Object(j.a)(c,2),i=a[0],b=a[1],O=Object(r.useState)(""),x=Object(j.a)(O,2),p=x[0],h=x[1],f=Object(r.useState)(!1),m=Object(j.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)(!1),w=Object(j.a)(y,2),S=w[0],k=w[1],C=Object(r.useState)("visible"),M=Object(j.a)(C,2),I=M[0],E=M[1],T=Object(r.useState)(function(){var e=t.pathname.split("/");return Number(e[e.length-1])}()),N=Object(j.a)(T,2),U=N[0],B=N[1],A=Object(r.createRef)(),V=Object(r.useState)(1),L=Object(j.a)(V,2),P=L[0],F=L[1],R=Object(r.useState)(!1),W=Object(j.a)(R,2),G=W[0],z=W[1],J=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.getIdsByPage(U);case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.getPagesCount();case 2:t=e.sent,F(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){i.length<=1&&(B(U-1),e.history.push("/movies/".concat(U-1)))};return Object(r.useEffect)((function(){var e=!1;(n.permissions.forEach((function(t){"View Movies"==t&&(e=!0,g(!0))})),e)?J():(h(Object(D.jsxs)("div",{children:[Object(D.jsx)("h4",{children:"We're Sorry!"}),Object(D.jsx)("h4",{children:"This page is visible only to users with the right permission"})]})),E("collapse"))}),[]),Object(r.useEffect)((function(){Y()}),[U]),Object(r.useEffect)((function(){J()}),[U]),Object(r.useEffect)((function(){!function(){if(v)if(i.length>0){var e=i.map((function(e,t){return Object(D.jsx)(l.a,{container:!0,item:!0,xs:4,xl:3,justify:"center",children:Object(D.jsx)(d.a,{style:{width:"400px"},children:Object(D.jsx)(xe,{id:e,deleted:$,searched:S},"movie"+t)},"movie"+t)})}));h(e),k(!1)}else h(Object(D.jsxs)("span",{children:[Object(D.jsx)("br",{}),"No Matching Results!"]}))}()}),[i]),Object(D.jsx)("div",{style:{paddingBottom:"30px"},ref:A,children:Object(D.jsxs)(l.a,{children:[Object(D.jsx)(l.a,{item:!0,xs:12,children:Object(D.jsx)("span",{className:I,children:Object(D.jsx)(me,{search:function(e){return t=e,b([]),void(-1==t?(J(),z(!1)):(z(!0),k(!0),b(t)));var t}})})}),Object(D.jsx)(l.a,{container:!0,item:!0,direction:"row",alignItems:"center",justify:"center",children:""!==p?p:Object(D.jsx)(ge,{})}),Object(D.jsx)(l.a,{item:!0,container:!0,justify:"center",style:{marginTop:"20px"},children:Object(D.jsx)(ve.a,{style:{visibility:G||"visible"!=I?"collapse":"visible"},count:P,page:U,boundaryCount:1,siblingCount:1,onChange:function(t,n){B(n),e.history.push("/movies/".concat(n)),A.current.scrollIntoView({behavior:"smooth"})}})})]})})})),we=function(e){var t=Object(r.useState)(e.match.params.page),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(Object(D.jsx)(ye,{history:e.history},c)),i=Object(j.a)(s,2),o=i[0],u=i[1];Object(r.useEffect)((function(){a(e.match.params.page)}),[e.match.params.page]);var l=N();return Object(D.jsxs)(b.a,{children:[Object(D.jsxs)(z.a,{style:{marginBottom:"150px"},children:[Object(D.jsx)(q,{history:e.history}),Object(D.jsx)("br",{})]}),Object(D.jsxs)(z.a,{className:"innerBox",children:[Object(D.jsx)("h3",{children:"TV Shows"}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{className:l.outlined,onClick:function(){return u(Object(D.jsx)(ye,{history:e.history}))},children:"All TV Shows"}),"\xa0",Object(D.jsx)(p.a,{className:l.outlined,onClick:function(){return u(Object(D.jsx)(Oe,{added:function(){return u(Object(D.jsx)(ye,{history:e.history}))}}))},children:"Add TV Show"})]})," ",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),o]})]})},Se=Object(s.g)(Object(H.b)()((function(e){var t=Object(H.c)((function(e){return e.editMovie.id})),n=Object(H.c)((function(e){return e.user})),c=Object(r.useState)({}),a=Object(j.a)(c,2),s=a[0],i=a[1],h=Object(r.useState)(""),f=Object(j.a)(h,2),m=f[0],v=f[1],g=Object(r.useState)(""),y=Object(j.a)(g,2),w=y[0],S=y[1],k=Object(r.useState)(""),C=Object(j.a)(k,2),M=C[0],I=C[1],E=Object(r.useState)(),T=Object(j.a)(E,2),N=T[0],U=T[1],B=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.getById(t);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var n=Object(u.a)(o.a.mark((function n(){var r,c,a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(""!=m&&w.length>0&&""!=M)){n.next=10;break}return r=new Date(N),c=/\s*(?:,|$)\s*/,a=String(w).split(c),s={name:m,image:M,premiered:r,genres:a},n.next=7,Q.updateMovie(t,s);case 7:e.history.push("/movies"),n.next=11;break;case 10:alert("Please make sure you enter valid values!");case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){B(t)}),[]),Object(r.useEffect)((function(){!function(){v(s.name),I(s.image),S(s.genres);var e=Q.formatDate(s.premiered);U(e)}()}),[s]),Object(r.useEffect)((function(){var e=!1;if(n.permissions.forEach((function(t){"Update Movies"==t&&(e=!0)})),!e);}),[]),Object(D.jsxs)(b.a,{children:[Object(D.jsxs)(z.a,{style:{marginBottom:"150px"},children:[Object(D.jsx)(q,{history:e.history}),Object(D.jsx)("br",{})]}),Object(D.jsx)(z.a,{className:"innerBox",children:Object(D.jsx)(l.a,{container:!0,justify:"center",children:Object(D.jsxs)(d.a,{style:{marginTop:"5vh"},children:[Object(D.jsxs)("h3",{children:["Edit ",s.name]}),Object(D.jsx)(O.a,{label:"Name",value:m,onChange:function(e){return v(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{label:"Genres",value:w,onChange:function(e){return S(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{label:"Image URL",value:M,onChange:function(e){return I(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{label:"Premiered",value:N,type:"date",onChange:function(e){return U(e.target.value)},InputLabelProps:{shrink:!0}}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{onClick:function(){e.dispatch({type:"EDITMOVIE",payload:{id:""}}),e.history.push("/movies/1")},children:"Cancel"}),"\xa0",Object(D.jsx)(p.a,{onClick:A,children:"Edit"})]}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})})})]})}))),ke="https://shows-server.herokuapp.com",Ce={getByMemberId:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(ke,"/subs/getbymemberid/").concat(t));case 2:if(null!=(n=e.sent)){e.next=7;break}return e.abrupt("return",-1);case 7:return e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),subscribe:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(ke,"/subs/"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Me="https://shows-server.herokuapp.com",Ie={getAllMembers:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(Me,"/members/getAllMembers"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllMembersIDs:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(Me,"/members/getMembersIDs"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getMemberByID:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(Me,"/members/getById/").concat(t));case 2:return n=e.sent,e.next=5,Ce.getByMemberId(t);case 5:return r=e.sent,c={member:n.data,subs:r},e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createMember:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(Me,"/members/"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteMember:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("".concat(Me,"/members/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateMember:function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("".concat(Me,"/members/").concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ee=function(e){var t=Object(H.c)((function(e){return e.user})),n=Object(r.useState)("visible"),c=Object(j.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(""),b=Object(j.a)(i,2),l=b[0],h=b[1],f=Object(r.useState)(""),m=Object(j.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),S=w[0],k=w[1],C=Object(r.useState)(""),M=Object(j.a)(C,2),I=M[0],E=M[1],T=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==v||""==S||""==I){t.next=7;break}return n={name:v,email:S,city:I},t.next=4,Ie.createMember(n);case 4:e.added(),t.next=8;break;case 7:alert("Please make sure to enter valid values!");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=!1;(t.permissions.forEach((function(t){"Create Subscriptions"==t&&(e=!0)})),e)||(h(Object(D.jsxs)("div",{children:[Object(D.jsx)("h4",{children:"We're Sorry!"}),Object(D.jsx)("h4",{children:"This page is visible only to users with the right permission"})]})),s("collapse"))}),[]),Object(D.jsxs)("div",{children:[l,Object(D.jsx)("div",{className:a,children:Object(D.jsxs)(d.a,{children:[Object(D.jsx)("h3",{children:"Add a New Member"}),Object(D.jsx)(O.a,{label:"Name",onChange:function(e){return g(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{label:"Email",onChange:function(e){return k(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{label:"City",onChange:function(e){return E(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{onClick:e.added,children:"Cancel"}),"\xa0",Object(D.jsx)(p.a,{onClick:T,children:"Add"})]}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})})]})},De=n(102),Te=n(203),Ne=function(e){var t=Object(r.useState)([]),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)([]),i=Object(j.a)(s,2),b=i[0],l=i[1],x=Object(r.useState)(!1),h=Object(j.a)(x,2),f=h[0],m=h[1],v=Object(r.useState)([]),g=Object(j.a)(v,2),y=g[0],w=g[1],S=Object(r.useState)(""),k=Object(j.a)(S,2),C=k[0],M=k[1],I=Object(r.useState)(""),E=Object(j.a)(I,2),N=E[0],U=E[1],B=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.getNamesAndIds();case 2:(t=e.sent).sort((function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0})),a(t),m(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){if(e.subs.length>0){var t=e.subs.map((function(e){return e.movieId}));l(t)}},V=function(){var e=Object(R.a)(c);b.forEach((function(t){var n=e.filter((function(e){return e.id!=t}));e=n}));var t=e.map((function(e,t){return Object(D.jsx)(Te.a,{value:e.id,children:e.name},e.id)}));w(t)},L=function(){var t=Object(u.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==N||""==C){t.next=8;break}return n=new Date(N),r={memberId:e.memberId,movies:[{movieId:C,date:n}]},t.next=5,Ce.subscribe(r);case 5:e.added(),t.next=9;break;case 8:alert("Please make sure to choose a TV Show and date!");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){B()}),[]),Object(r.useEffect)((function(){A()}),[]),Object(r.useEffect)((function(){f&&V()}),[f]),Object(r.useEffect)((function(){A(),V()}),[e]);var P=T();return Object(D.jsx)("div",{children:Object(D.jsxs)(d.a,{style:{backgroundColor:"#222831",width:"500px"},children:[Object(D.jsx)("h3",{children:"Subscribe to a New TV Show"}),Object(D.jsxs)(O.a,{defaultValue:"",select:!0,label:"TV Show",style:{backgroundColor:"#393e46"},InputLabelProps:{shrink:!0},onChange:function(e){console.log(e.target.value),M(e.target.value)},children:[Object(D.jsx)("br",{}),y]}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{type:"date",label:"Date Watched",style:{backgroundColor:"#393e46"},InputLabelProps:{shrink:!0},onChange:function(e){return U(e.target.value)}})," ",Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)(p.a,{className:P.outlined,onClick:L,children:"Subscribe"}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})})},Ue=n(158),Be=n(204),Ae=function(e){var t=Object(r.useState)([]),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(null),i=Object(j.a)(s,2),b=i[0],d=i[1],O=Object(r.useState)(!1),x=Object(j.a)(O,2),h=x[0],f=x[1],m=Object(r.useState)("collapse"),v=Object(j.a)(m,2),g=v[0],y=v[1],w=function(){var t=Object(u.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.subs,t.next=3,S(n);case 3:r=t.sent,a(r),f(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=Object(De.a)(t),e.prev=2,r.s();case 4:if((c=r.n()).done){e.next=12;break}return a=c.value,e.next=8,Q.getNameById(a.movieId);case 8:s=e.sent,n.push(s);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){y("collapse"==g?"visible":"collapse")};return Object(r.useEffect)((function(){w()}),[]),Object(r.useEffect)((function(){w()}),[e.subs]),Object(r.useEffect)((function(){h&&function(){var t=c.map((function(t,n){return{name:t,date:e.subs[n].date,id:e.subs[n].movieId}}));t.sort((function(e,t){return new Date(e.date)-new Date(t.date)}));var n=t.map((function(e,t){var n=e.date,r=new Date(n);return r=r.toLocaleDateString("en-gb"),Object(D.jsx)(Ue.a,{children:Object(D.jsx)(Be.a,{children:Object(D.jsxs)("span",{children:[Object(D.jsx)(ee.b,{style:{color:"#ffd369"},to:"/movie/".concat(e.id),children:e.name}),", ",r]})})},"movie"+t)}));d(n)}()}),[1==h]),Object(D.jsxs)("div",{children:[b&&Object(D.jsxs)("div",{children:[Object(D.jsx)("h4",{style:{marginBottom:"10px"},children:"TV Shows Watched"}),Object(D.jsx)(Z.a,{style:{marginBottom:"10px",height:"2px"}}),Object(D.jsx)("ul",{children:b}),Object(D.jsx)("br",{})]}),!b&&Object(D.jsx)("div",{children:Object(D.jsxs)(l.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(D.jsx)(Y.a,{width:"200px"}),Object(D.jsx)(Y.a,{height:"325px",width:"350px"})]})}),Object(D.jsx)(p.a,{onClick:k,style:{width:"300px"},children:"Subscribe to a New TV Show"}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)("div",{className:g,children:Object(D.jsx)(Ne,{subs:e.subs,subbed:k,memberId:e.memberId,added:function(){k(),f(!1),e.added()}})}),Object(D.jsx)("br",{})]})},Ve=Object(s.g)(Object(H.b)()((function(e){var t=Object(H.c)((function(e){return e.user})),n=Object(r.useState)({}),c=Object(j.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(!1),b=Object(j.a)(i,2),O=b[0],h=b[1],f=Object(r.useState)(-1),m=Object(j.a)(f,2),v=(m[0],m[1],Object(r.useState)([])),g=Object(j.a)(v,2),y=g[0],w=g[1],S=Object(r.useState)(""),k=Object(j.a)(S,2),C=k[0],M=k[1],I=U(),E=(A(),B()),T=Object(r.useState)(!1),N=Object(j.a)(T,2),V=N[0],L=N[1],P=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ie.getMemberByID(e.id);case 2:n=t.sent,s(n.member),null!=n.subs&&w(n.subs.movies),h(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),F=function(){h(!1),P()},R=function(){var n=Object(u.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=!1,t.permissions.forEach((function(e){"Delete Subscriptions"==e&&(r=!0)})),!r){n.next=8;break}return n.next=5,Ie.deleteMember(e.id);case 5:e.deleted(),n.next=9;break;case 8:alert("This option is available only to users with the right permission!");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),W=function(){var n=Object(u.a)(o.a.mark((function n(){var r,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=!1,t.permissions.forEach((function(e){"Update Movies"==e&&(r=!0)})),r?(c={type:"EDITMEMBER",payload:{id:e.id}},e.dispatch(c),e.history.push("/editMember")):alert("This option is available only to users with the right permission!");case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),G=function(){L(!0)},J=function(){L(!1)};return Object(r.useEffect)((function(){P()}),[]),Object(r.useEffect)((function(){!function(){if(O){var t=Object(D.jsxs)(l.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center",children:[Object(D.jsx)("h3",{xs:12,style:{marginBottom:"10px"},children:a.name}),Object(D.jsx)(Z.a,{xs:12,style:{marginBottom:"10px",height:"2px",width:"500px"}}),Object(D.jsxs)(l.a,{container:!0,item:!0,xs:12,justify:"space-evenly",children:[Object(D.jsx)(d.a,{xs:6,className:I.root,children:Object(D.jsxs)(l.a,{container:!0,justify:"center",textAlign:"center",children:[Object(D.jsx)(l.a,{item:!0,xs:12,children:Object(D.jsx)("h4",{className:"indUserHeaders",children:"Email"})}),Object(D.jsx)(d.a,{className:E.root,style:{width:"auto",paddingLeft:"5px",paddingRight:"5px"},children:a.email})]})}),Object(D.jsx)(d.a,{xs:6,className:I.root,children:Object(D.jsxs)(l.a,{container:!0,justify:"center",textAlign:"center",children:[Object(D.jsx)(l.a,{item:!0,xs:12,children:Object(D.jsx)("h4",{className:"indUserHeaders",children:"City"})}),Object(D.jsx)(d.a,{className:E.root,children:a.city})]})})]}),Object(D.jsx)("br",{}),Object(D.jsxs)(x.a,{xs:12,children:[Object(D.jsx)(p.a,{onClick:W,children:"Edit"}),Object(D.jsx)(p.a,{onClick:G,children:"Delete"})]}),Object(D.jsx)("br",{}),Object(D.jsx)(Ae,{subs:y,memberId:e.id,added:F})]});M(t)}}()}),[O]),Object(D.jsxs)("div",{children:[C,Object(D.jsxs)(ae.a,{open:V,onClose:J,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(D.jsxs)(z.a,{textAlign:"left",children:[Object(D.jsx)(ue.a,{id:"alert-dialog-title",children:"Delete ".concat(a.name,"?")}),Object(D.jsx)(ie.a,{children:Object(D.jsx)(oe.a,{id:"alert-dialog-description",style:{color:"#f7fbfc"},children:"".concat(a.name," will be deleted permanently and we will not be able to restore it.")})})]}),Object(D.jsxs)(se.a,{children:[Object(D.jsx)(p.a,{onClick:J,children:"Cancel"}),Object(D.jsx)(p.a,{onClick:function(){J(),R()},autoFocus:!0,children:"Delete"})]})]})]})}))),Le=function(e){var t=Object(H.c)((function(e){return e.user})),n=Object(r.useState)([]),c=Object(j.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(""),b=Object(j.a)(i,2),O=b[0],x=b[1],p=Object(r.useState)(""),h=Object(j.a)(p,2),f=h[0],m=h[1],v=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.getAllMembersIDs();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){!function(){var e=a.map((function(e,t){return Object(D.jsx)(d.a,{children:Object(D.jsx)(Ve,{id:e,deleted:v},"member"+t)},"memberPaper"+t)}));x(e)}()}),[a]),Object(r.useEffect)((function(){var e=!1;(t.permissions.forEach((function(t){"View Subscriptions"==t&&(e=!0)})),e)?v():m(Object(D.jsxs)("div",{children:[Object(D.jsx)("h4",{children:"We're Sorry!"}),Object(D.jsx)("h4",{children:"This page is visible only to users with the right permission"})]}))}),[]),Object(D.jsx)("div",{style:{paddingBottom:"30px"},children:Object(D.jsxs)(l.a,{container:!0,justify:"space-evenly",alignItems:"center",direction:"column",children:[O,f]})})},Pe=function(e){var t=Object(r.useState)(Object(D.jsx)(Le,{})),n=Object(j.a)(t,2),c=n[0],a=n[1],s=N();return Object(D.jsxs)(b.a,{children:[Object(D.jsxs)(z.a,{style:{marginBottom:"150px"},children:[Object(D.jsx)(q,{history:e.history}),Object(D.jsx)("br",{})]}),Object(D.jsx)(z.a,{className:"innerBox",children:Object(D.jsxs)(l.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center",children:[Object(D.jsx)("h3",{children:"Subscriptions"}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{className:s.outlined,onClick:function(){return a(Object(D.jsx)(Le,{}))},children:"All Members"}),"\xa0",Object(D.jsx)(p.a,{className:s.outlined,onClick:function(){return a(Object(D.jsx)(Ee,{added:function(){return a(Object(D.jsx)(Le,{}))}}))},children:"Add Member"})]}),c]})})]})},Fe=Object(H.b)()((function(e){var t=Object(r.useState)({}),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),i=Object(j.a)(s,2),O=i[0],h=i[1],f=Object(r.useState)(""),m=Object(j.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)(!1),w=Object(j.a)(y,2),S=w[0],k=w[1],C=Object(r.useState)(!0),M=Object(j.a)(C,2),I=M[0],E=M[1],T=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.getById(t);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.deleteMovie(e.match.params.id);case 2:e.deleted();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.searched&&I&&(T(e.match.params.id),E(!1)),Object(r.useEffect)((function(){T(e.match.params.id),k(!0)}),[]),Object(r.useEffect)((function(){if(S){var e=new Date(c.premiered);e=e.getFullYear(),h(e);var t=c.genres;if(0==t.length)g("No genres available!");else{var n="";t.forEach((function(e,r){r==t.length-1?n+=e:n+=e+", "})),g(n)}}}),[c]),Object(D.jsxs)(b.a,{children:[Object(D.jsxs)(z.a,{style:{marginBottom:"150px"},children:[Object(D.jsx)(q,{history:e.history}),Object(D.jsx)("br",{})]}),Object(D.jsx)(z.a,{className:"innerBox",children:Object(D.jsx)(l.a,{container:!0,justify:"center",children:Object(D.jsxs)(d.a,{style:{marginTop:"20px"},children:[v&&Object(D.jsx)("div",{children:Object(D.jsxs)(l.a,{container:!0,justify:"center",direction:"column",alignItems:"center",children:[Object(D.jsx)(d.a,{style:{width:"215px",height:"300px",backgroundColor:"#222831",paddingTop:"5px",paddingLeft:"2px",paddingRight:"2px"},children:Object(D.jsx)(z.a,{paddingTop:"0",children:Object(D.jsx)("img",{src:c.image,style:{borderRadius:3}})})}),Object(D.jsxs)("h3",{children:[c.name,", ",O]}),v," ",Object(D.jsx)("br",{})," ",Object(D.jsx)("br",{}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{onClick:function(){e.history.push("/subscriptions")},children:"Back"}),Object(D.jsx)(p.a,{onClick:function(){var t={type:"EDITMOVIE",payload:{id:e.match.params.id}};e.dispatch(t),e.history.push("/editMovie")},children:"Edit"}),Object(D.jsx)(p.a,{onClick:N,children:"Delete"})]})]})}),!v&&Object(D.jsx)("span",{children:Object(D.jsxs)(l.a,{container:!0,justify:"center",alignItems:"center",direction:"column",children:[Object(D.jsx)(Y.a,{width:"210px",height:"300px"}),Object(D.jsx)(Y.a,{width:"270px",height:"24px"}),Object(D.jsx)(Y.a,{width:"200px",height:"24px"}),Object(D.jsx)(Y.a,{width:"400px",height:"40px",style:{marginBottom:0}})]})}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})})})]})})),Re=Object(s.g)(Object(H.b)()((function(e){var t=Object(H.c)((function(e){return e.editMember.id})),n=Object(r.useState)({}),c=Object(j.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(""),h=Object(j.a)(i,2),f=h[0],m=h[1],v=Object(r.useState)(""),g=Object(j.a)(v,2),y=g[0],w=g[1],S=Object(r.useState)(""),k=Object(j.a)(S,2),C=k[0],M=k[1],I=function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.getMemberByID(t);case 2:n=e.sent,s(n.member);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var n=Object(u.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""==f||""==y||""==C){n.next=7;break}return r={name:f,email:y,city:C},n.next=4,Ie.updateMember(t,r);case 4:e.history.push("/subscriptions"),n.next=8;break;case 7:alert("Please make sure to enter valid values!");case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){I()}),[]),Object(r.useEffect)((function(){m(a.name),w(a.email),M(a.city)}),[a]),Object(D.jsxs)(b.a,{children:[Object(D.jsxs)(z.a,{style:{marginBottom:"160px"},children:[Object(D.jsx)(q,{history:e.history}),Object(D.jsx)("br",{})]}),Object(D.jsx)(z.a,{className:"innerBox",children:Object(D.jsx)(l.a,{container:!0,justify:"center",children:Object(D.jsxs)(d.a,{children:[Object(D.jsxs)("h3",{children:["Edit ",a.name]}),Object(D.jsx)(O.a,{label:"Name",value:f,onChange:function(e){return m(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{label:"Email",value:y,onChange:function(e){return w(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)(O.a,{label:"City",value:C,onChange:function(e){return M(e.target.value)}}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsxs)(x.a,{children:[Object(D.jsx)(p.a,{onClick:function(){e.dispatch({type:"EDITMEMBER",payload:{id:""}}),e.history.push("/subscriptions")},children:"Cancel"}),"\xa0",Object(D.jsx)(p.a,{onClick:E,children:"Edit"})]}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})})})]})}))),He=function(e){return Object(D.jsx)("div",{children:Object(D.jsxs)(s.c,{children:[Object(D.jsx)(s.a,{path:"/",exact:!0,component:ne}),Object(D.jsx)(s.a,{path:"/createAccount",component:F}),Object(D.jsx)(s.a,{path:"/mainPage",component:de}),Object(D.jsx)(s.a,{path:"/movies/:page",component:we}),Object(D.jsx)(s.a,{path:"/subscriptions",component:Pe}),Object(D.jsx)(s.a,{path:"/editUser",component:_}),Object(D.jsx)(s.a,{path:"/editmovie",component:Se}),Object(D.jsx)(s.a,{path:"/editMember",component:Re}),Object(D.jsx)(s.a,{path:"/usersManagement",component:le}),Object(D.jsx)(s.a,{path:"/movie/:id",component:Fe})]})})},We=n(205);var Ge=function(){return Object(D.jsx)("div",{children:Object(D.jsx)(We.a,{theme:P,children:Object(D.jsx)(He,{})})})},ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,214)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},Je=n(67),Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{id:"",fname:"",admin:!1,permissions:[],timer:"",sessionTimeout:""},editUser:{id:""},editMovie:{id:""},editMember:{id:""}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(ce.a)(Object(ce.a)({},e),{},{user:{id:t.payload.id,fname:t.payload.fname,admin:t.payload.admin,permissions:t.payload.permissions,timer:t.payload.timer,sessionTimeout:t.payload.sessionTimeout}});case"LOGOUT":return Object(ce.a)(Object(ce.a)({},e),{},{user:{id:"",fname:"",admin:!1,permissions:[],timer:"",sessionTimeout:""}});case"EDITUSER":return Object(ce.a)(Object(ce.a)({},e),{},{editUser:{id:t.payload.id}});case"EDITMOVIE":return Object(ce.a)(Object(ce.a)({},e),{},{editMovie:{id:t.payload.id}});case"EDITMEMBER":return Object(ce.a)(Object(ce.a)({},e),{},{editMember:{id:t.payload.id}});default:return Object(ce.a)({},e)}},$e=Object(Je.b)(Ye);a.a.render(Object(D.jsx)(ee.a,{basename:"/shows-project",children:Object(D.jsx)(H.a,{store:$e,children:Object(D.jsx)(Ge,{})})}),document.getElementById("root")),ze()},24:function(e,t,n){}},[[154,1,2]]]);
//# sourceMappingURL=main.3c80fda5.chunk.js.map