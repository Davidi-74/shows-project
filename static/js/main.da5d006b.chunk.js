(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{119:function(e,t,n){},154:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(18),c=n.n(a),s=(n(119),n(15)),i=n(3),o=n.n(i),u=n(8),j=n(4),b=n(189),l=n(190),d=n(157),O=n(204),h=n(191),p=n(156),x=n(13),f=n.n(x),m=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("http://localhost:8001/users/".concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8001/users/checkLogin/".concat(t,"/").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8001/users/createdByAdmin/".concat(t,"/").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8001/users/getFname/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8001/users/getLoginData/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8001/users/getAllUsersData");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8001/users/getIndCompUserData/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C={checkLogin:v,userCreatedByAdmin:g,updateUser:m,getFname:y,getLoginData:w,getAllUsersData:S,createUser:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("http://localhost:8001/users/",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getIndCompUserData:k,deleteUser:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("http://localhost:8001/users/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllUsersIDs:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8001/users/getAllUsersIDs");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},M=n(103),I=n(186),E=n(1),D=Object(I.a)({outlined:{"&:hover":{backgroundColor:"#222831",color:"#f7fbfc"},backgroundColor:"#171c22"}}),T=Object(I.a)({outlined:{"&:hover":{backgroundColor:"#222831",color:"#f7fbfc"},backgroundColor:"#393e46"}}),N=Object(I.a)({root:{height:"80x",width:"260px",backgroundColor:"#222831",paddingBottom:"20px"}}),U=Object(I.a)({root:{height:"30px",width:"auto",paddingRight:"10px",paddingLeft:"10px",backgroundColor:"#ffd369",color:"#222831",fontWeight:"bold",paddingTop:"5px"}}),B=Object(I.a)({root:{height:"300px",width:"550px",backgroundColor:"#222831",paddingBottom:"20px"}}),A=Object(I.a)({root:{"&.Mui-disabled":{color:"#ffd369"}}}),V=Object(I.a)({root:{width:"auto",paddingLeft:"20px",paddingRight:"20px"}}),L=(Object(I.a)({textFieldStyle:{color:"secondary",borderColor:"#FFFFFF",border:1,InputLabelProps:{color:"white !important"}}}),Object(M.a)({overrides:{MuiButton:{root:{background:"#222831",border:0,borderRadius:5,color:"#f7fbfc",padding:"0 60px",width:"150px"}},MuiInputLabel:{root:{color:"#f7fbfc"}},MuiFilledInput:{root:{color:"#f7fbfc"}},MuiContainer:{root:{backgroundColor:"#222831",color:"#f7fbfc",textAlign:"center",fontFamily:"Calibri",fontSize:20,height:"100vh",display:"flex",flexDirection:"column"}},MuiFormHelperText:{root:{color:"#f7fbfc"}},MuiSelect:{root:{color:"#f7fbfc"}},MuiPaper:{root:{backgroundColor:"#393e46",color:"#f7fbfc",paddingTop:"10px",marginBottom:"10px",marginTop:"10px",width:"600px",textAlign:"center"}},MuiAppBar:{root:{margin:0}},MuiTextField:{root:{width:"300px"}},MuiSkeleton:{root:{margin:"15px",borderRadius:5}},MuiPaginationItem:{root:{backgroundColor:"#393e46"}}},palette:{primary:{main:"#f7fbfc"},secondary:{main:"#ffd369"}},props:{MuiTextField:{variant:"filled",size:"small"},MuiButton:{variant:"outlined"},MuiPaper:{elevation:5},MuiContainer:{maxWidth:!1},MuiSkeleton:{variant:"rect"},MuiPagination:{variant:"outlined",color:"secondary",size:"large"}},shape:{borderRadius:5},spacing:8,typography:{fontFamily:"Helvetica",fontSize:16}})),P=function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),i=Object(j.a)(s,2),x=i[0],f=i[1],m=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==a||""==x){t.next=7;break}return t.next=3,C.userCreatedByAdmin(a,x);case 3:"exists"==(n=t.sent)?alert("User Already Exists!"):n?n&&(alert("User Created!"),e.history.push("/")):alert("User Not Found! Please Contact the System Admin"),t.next=8;break;case 7:alert("Please make sure to fill out each field!");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=V();return Object(E.jsx)(b.a,{style:{paddingTop:"100px"},children:Object(E.jsx)(l.a,{container:!0,justify:"center",children:Object(E.jsx)(d.a,{className:v.root,children:Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{children:"Welcome to the TV Shows Subscriptions Site"}),Object(E.jsx)("h3",{children:"Create Account"}),Object(E.jsx)(O.a,{label:"Username",onChange:function(e){return c(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{label:"Password",type:"password",onChange:function(e){return f(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{onClick:function(){return e.history.push("/")},children:"Cancel"}),Object(E.jsx)(p.a,{onClick:m,children:"Create User"})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})})})})},F=n(17),R=n(11),H=n(12),W=n(193),G=n(205),z=n(194),J=n(192),Y=Object(R.b)()((function(e){var t=Object(R.c)((function(e){return e.user.timer})),n=Object(R.c)((function(e){return e.user.sessionTimeout})),a=Object(r.useState)(""),c=Object(j.a)(a,2),s=c[0],i=c[1],o=function(){e.dispatch({type:"LOGOUT"}),e.history.push("/")};return Object(r.useEffect)((function(){!function(){var e=new Date(t.getTime()+n),r=setInterval((function(){var t=(new Date).getTime(),n=e-t,a=Math.floor(n%36e5/6e4),c=Math.floor(n%6e4/1e3);i("Session Time: "+a+"m "+c+"s"),n<0&&(clearInterval(r),o())}),1e3)}()}),[]),Object(E.jsxs)("div",{children:[s&&Object(E.jsx)("div",{style:{color:"#acafb0",fontSize:14},children:s}),!s&&Object(E.jsx)(J.a,{width:"150px",height:"17px",animation:"wave",style:{paddingRight:"0px",marginBottom:"0px"}})]})})),$=Object(R.b)()((function(e){var t=Object(R.c)((function(e){return e.user})),n=Object(r.useState)(Object(E.jsx)("span",{})),a=Object(j.a)(n,2),c=a[0],s=a[1],i=function(){return""!=t.id||(o(),!1)},o=function(){e.dispatch({type:"LOGOUT"}),e.history.push("/")};return Object(r.useEffect)((function(){i(),function(){var n;t.admin?s(Object(E.jsx)(p.a,(n={onClick:function(){return e.history.push("/usersManagement")},style:{lineHeight:"20px"}},Object(H.a)(n,"style",{width:"210px"}),Object(H.a)(n,"className",c),Object(H.a)(n,"children","Users Management"),n))):s("")}()}),[]),Object(E.jsx)("div",{children:Object(E.jsx)(W.a,{style:{backgroundColor:"#393e46",paddingBottom:"2vh"},children:Object(E.jsxs)(l.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(E.jsx)(l.a,{item:!0,xs:12,children:Object(E.jsx)("h2",{style:{color:"#f7fbfc",marginBottom:"10px",fontFamily:"Helvetica"},children:"TV Shows Subscriptions Site"})}),Object(E.jsx)(l.a,{item:!0,xs:12,container:!0,justify:"center",alignItems:"center",children:Object(E.jsxs)("span",{style:{color:"#f7fbfc"},children:["Hello, ",t.fname]})}),Object(E.jsxs)(l.a,{item:!0,container:!0,xs:12,direction:"row",children:[Object(E.jsx)(l.a,{item:!0,xs:2}),Object(E.jsx)(l.a,{item:!0,container:!0,justify:"center",xs:8,children:Object(E.jsx)(G.a,{flex:1,display:"flex",justifyContent:"center",alignItems:"center",children:Object(E.jsx)(z.a,{children:Object(E.jsxs)(h.a,{maxWidth:"false",style:{height:"50px"},children:[Object(E.jsx)(p.a,{style:{width:"210px"},onClick:function(){return e.history.push("/movies/1")},children:"TV Shows"}),"\xa0",Object(E.jsx)(p.a,{style:{width:"210px"},onClick:function(){return e.history.push("/subscriptions")},children:"Subscriptions"}),"\xa0",c,Object(E.jsx)(p.a,{style:{width:"210px"},onClick:o,children:"Logout"})]})})})}),Object(E.jsx)(l.a,{container:!0,justify:"flex-end",alignItems:"flex-end",style:{paddingRight:"15px",marginBottom:"8px"},xs:2,children:i()&&Object(E.jsx)(Y,{history:e.history})})]})]})})})})),q={getAll:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8000/movies/getAllMovies");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllIds:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8000/movies/getAllMoviesIDs");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8000/movies/getbyid/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createMovie:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("http://localhost:8000/movies/",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteMovie:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("http://localhost:8000/movies/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),formatDate:function(e){var t=new Date(e).toLocaleDateString().split("/");return t[1]<10&&(t[1]="0"+t[1]),t[0]<10&&(t[0]="0"+t[0]),t[2]+"-"+t[0]+"-"+t[1]},updateMovie:function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("http://localhost:8000/movies/".concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),searchMovie:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8000/movies/search/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getNameById:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8000/movies/getnamebyid/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getNamesAndIds:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8000/movies/getNamesAndIds");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getIdsByPage:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8000/movies/getMoviesByPage/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPagesCount:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8000/movies/getPagesCount");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=n(208),Q=n(195),X=(n(24),Object(s.g)(Object(R.b)()((function(e){var t=Object(R.c)((function(e){return e.editUser.id})),n=Object(r.useState)({}),a=Object(j.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(!1),x=Object(j.a)(i,2),f=x[0],m=x[1],v=Object(r.useState)(""),g=Object(j.a)(v,2),y=g[0],w=g[1],S=Object(r.useState)(""),k=Object(j.a)(S,2),M=k[0],I=k[1],D=Object(r.useState)(""),T=Object(j.a)(D,2),N=T[0],U=T[1],B=Object(r.useState)(""),A=Object(j.a)(B,2),V=A[0],L=A[1],P=Object(r.useState)(""),H=Object(j.a)(P,2),W=H[0],z=H[1],J=Object(r.useState)([]),Y=Object(j.a)(J,2),X=Y[0],Z=Y[1],_=Object(r.useState)(!1),ee=Object(j.a)(_,2),te=ee[0],ne=ee[1],re=Object(r.useState)(!1),ae=Object(j.a)(re,2),ce=ae[0],se=ae[1],ie=Object(r.useState)(!1),oe=Object(j.a)(ie,2),ue=oe[0],je=oe[1],be=Object(r.useState)(!1),le=Object(j.a)(be,2),de=le[0],Oe=le[1],he=Object(r.useState)(!1),pe=Object(j.a)(he,2),xe=pe[0],fe=pe[1],me=Object(r.useState)(!1),ve=Object(j.a)(me,2),ge=ve[0],ye=ve[1],we=Object(r.useState)(!1),Se=Object(j.a)(we,2),ke=Se[0],Ce=Se[1],Me=Object(r.useState)(!1),Ie=Object(j.a)(Me,2),Ee=Ie[0],De=Ie[1],Te=function(e){var t=-1;if(X.forEach((function(n,r){n==e&&(t=r)})),-1==t){var n=Object(F.a)(X);n.push(e),"Create Subscriptions"==e||"Update Subscriptions"==e||"Delete Subscriptions"==e?te||(ne(!0),n.push("View Subscriptions")):"Create Movies"!=e&&"Update Movies"!=e&&"Delete Movies"!=e||ce||(se(!0),n.push("View Movies")),Z(n)}else{var r=Object(F.a)(X);r.splice(t,1),Z(r)}},Ne=function(){var n=Object(u.a)(o.a.mark((function n(){var r,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(""!=y&&""!=M&&""!=N&&"number"==typeof Number(V)&&X.length>0)){n.next=8;break}return r={fname:y,lname:M,username:N,sessionTimeout:Number(V),permissions:X},a=Ue(r),n.next=5,C.updateUser(t,a);case 5:e.history.push("/usersManagement"),n.next=9;break;case 8:alert("Please make sure you enter valid values!");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Ue=function(e){var t=e.fname.charAt(0).toUpperCase()+e.fname.slice(1),n=e.lname.charAt(0).toUpperCase()+e.lname.slice(1),r=e.sessionTimeout;r*=6e4;var a=new Date(W);return{fname:t,lname:n,dateCreated:a=a.toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric"}),username:N,sessionTimeout:r,permissions:X}};return Object(r.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getIndCompUserData(t);case 2:n=e.sent,s(n),m(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){!function(){if(f){w(c.fname),I(c.lname),U(c.username),L(c.sessionTimeout/6e4);var e=q.formatDate(c.dateCreated);z(e);var t=[];c.permissions.forEach((function(e){"View Subscriptions"==e?(t.push(e),ne(!0)):"Create Subscriptions"==e?(t.push(e),je(!0)):"Update Subscriptions"==e?(t.push(e),Oe(!0)):"Delete Subscriptions"==e?(t.push(e),fe(!0)):"View Movies"==e?(t.push(e),se(!0)):"Create Movies"==e?(t.push(e),ye(!0)):"Update Movies"==e?(t.push(e),Ce(!0)):"Delete Movies"==e&&(t.push(e),De(!0))})),Z(t)}}()}),[f]),Object(E.jsxs)(b.a,{children:[Object(E.jsxs)(G.a,{style:{marginBottom:"150px"},children:[Object(E.jsx)($,{history:e.history}),Object(E.jsx)("br",{})]}),Object(E.jsx)(G.a,{className:"innerBox",children:Object(E.jsx)(l.a,{container:!0,justify:"center",style:{paddingBottom:"50px"},children:Object(E.jsxs)(d.a,{style:{marginTop:"30px"},children:[Object(E.jsxs)("h3",{children:["Edit ",c.username]}),Object(E.jsx)(O.a,{type:"text",value:y,label:"First Name",onChange:function(e){return w(e.target.value)}})," ",Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{type:"text",value:M,label:"Last Name",onChange:function(e){return I(e.target.value)}})," ",Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{type:"text",value:N,label:"Username",onChange:function(e){return U(e.target.value)}})," ",Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{type:"number",value:V,inputProps:{min:"1"},label:"Session Timeout (Minutes)",onChange:function(e){return L(e.target.value)}})," ",Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{type:"date",value:W,label:"Date Created",disabled:!0,InputProps:{style:{color:"#acafb0"}},InputLabelProps:{style:{color:"#acafb0"}}}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("b",{children:"Permissions: "})," ",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsxs)(l.a,{container:!0,justify:"center",direction:"row",alignItems:"center",style:{lineHeight:"8px"},children:[Object(E.jsxs)(l.a,{container:!0,xs:5,direction:"column",justify:"center",alignItems:"flex-start",children:[Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"View Subscriptions",checked:te,onChange:function(e){ne(!te),Te(e.target.value)}}),"View Subscriptions"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Create Subscriptions",checked:ue,onChange:function(e){je(!ue),Te(e.target.value)}}),"Create Subscriptions"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Update Subscriptions",checked:de,onChange:function(e){Oe(!de),Te(e.target.value)}}),"Update Subscriptions"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Delete Subscriptions",checked:xe,onChange:function(e){fe(!xe),Te(e.target.value)}}),"Delete Subscriptions"]}),Object(E.jsx)("br",{})]}),Object(E.jsx)(Q.a,{orientation:"vertical",xs:2,flexItem:!0}),Object(E.jsxs)(l.a,{container:!0,xs:5,direction:"column",justify:"center",alignItems:"flex-start",style:{paddingLeft:"60px"},children:[Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"View Movies",checked:ce,onChange:function(e){se(!ce),Te(e.target.value)}}),"View Movies"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Create Movies",checked:ge,onChange:function(e){ye(!ge),Te(e.target.value)}}),"Create Movies"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Update Movies",checked:ke,onChange:function(e){Ce(!ke),Te(e.target.value)}}),"Update Movies"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Delete Movies",checked:Ee,onChange:function(e){De(!Ee),Te(e.target.value)}}),"Delete Movies"]}),Object(E.jsx)("br",{})]})]}),Object(E.jsx)("br",{}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{onClick:function(){e.dispatch({type:"EDITUSER",payload:{id:""}}),e.history.push("/usersManagement")},children:"Cancel"}),Object(E.jsx)(p.a,{onClick:Ne,children:"Edit"})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})})})]})})))),Z=n(31),_=Object(R.b)()((function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),i=Object(j.a)(s,2),h=i[0],x=i[1],f=function(){var t=Object(u.a)(o.a.mark((function t(n){var r,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=a.toLowerCase(),t.next=4,C.checkLogin(r,h);case 4:if(!(c=t.sent).valid){t.next=15;break}return t.next=8,C.getLoginData(c.id);case 8:s=t.sent,i=new Date,u={type:"LOGIN",payload:{id:c.id,fname:s.fname,admin:s.admin,permissions:s.permissions,timer:i,sessionTimeout:s.sessionTimeout}},e.dispatch(u),e.history.push("/movies/1"),t.next=16;break;case 15:alert("Invalid Username/Password!");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=V();return Object(E.jsx)(b.a,{style:{paddingTop:"100px"},children:Object(E.jsx)(l.a,{container:!0,justify:"center",children:Object(E.jsx)(d.a,{className:m.root,children:Object(E.jsxs)(l.a,{item:!0,container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(E.jsx)("h1",{xs:12,style:{marginBottom:"0px"},children:"Welcome to the TV Shows Subscriptions Site"}),Object(E.jsx)("h3",{xs:12,children:"Log In"}),Object(E.jsxs)("form",{onSubmit:function(e){return f(e)},children:[Object(E.jsx)(O.a,{xs:12,type:"text",label:"Username",onChange:function(e){return c(e.target.value)}})," ",Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{xs:12,type:"password",label:"Password",onChange:function(e){return x(e.target.value)}})," ",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(p.a,{xs:12,type:"submit",children:"Login"}),Object(E.jsx)("br",{})," ",Object(E.jsx)("br",{})]}),Object(E.jsxs)("span",{xs:12,children:["New Here? ",Object(E.jsx)(Z.b,{style:{color:"#ffd369"},to:"/createAccount",children:"Create a New Account"})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})})})})})),ee=function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),i=Object(j.a)(s,2),b=i[0],x=i[1],f=Object(r.useState)(""),m=Object(j.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),S=w[0],k=w[1],M=Object(r.useState)([]),I=Object(j.a)(M,2),D=I[0],T=I[1],N=Object(r.useState)(!1),U=Object(j.a)(N,2),B=U[0],A=U[1],V=Object(r.useState)(!1),L=Object(j.a)(V,2),P=L[0],R=L[1],H=function(e){var t=-1;if(D.forEach((function(n,r){n==e.target.value&&(t=r)})),-1==t){var n=Object(F.a)(D);n.push(e.target.value),"Create Subscriptions"==e.target.value||"Update Subscriptions"==e.target.value||"Delete Subscriptions"==e.target.value?B||(A(!0),n.push("View Subscriptions")):"Create Movies"!=e.target.value&&"Update Movies"!=e.target.value&&"Delete Movies"!=e.target.value||P||(R(!0),n.push("View Movies")),T(n)}else{var r=Object(F.a)(D);r.splice(t,1),T(r)}},W=function(){var t=Object(u.a)(o.a.mark((function t(n){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!(""!=a&&""!=b&&""!=v&&"number"==typeof Number(S)&&D.length>0)){t.next=10;break}return r={fname:a,lname:b,username:v,sessionTimeout:Number(S),permissions:D},c=G(r),console.log(c),t.next=7,C.createUser(c);case 7:e.added(),t.next=11;break;case 10:alert("Please make sure you enter valid values!");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(e){var t=e.fname.charAt(0).toUpperCase()+e.fname.slice(1),n=e.lname.charAt(0).toUpperCase()+e.lname.slice(1),r=e.sessionTimeout;r*=6e4;var a=new Date;return{fname:t,lname:n,dateCreated:a=a.toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric"}),username:v,sessionTimeout:r,permissions:D}};return Object(E.jsx)("div",{style:{paddingBottom:"30px"},children:Object(E.jsx)(l.a,{container:!0,justify:"center",children:Object(E.jsxs)(d.a,{children:[Object(E.jsx)("h3",{children:"Add a New User"}),Object(E.jsxs)("form",{onSubmit:function(e){return W(e)},children:[Object(E.jsx)(O.a,{type:"text",label:"First Name",onChange:function(e){return c(e.target.value)}})," ",Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{type:"text",label:"Last Name",onChange:function(e){return x(e.target.value)}})," ",Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{type:"text",label:"Username",onChange:function(e){return g(e.target.value)}})," ",Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{type:"number",inputProps:{min:"1"},label:"Session Timeout (Minutes)",onChange:function(e){return k(e.target.value)}})," ",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("b",{children:"Permissions: "})," ",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsxs)(l.a,{container:!0,justify:"center",direction:"row",alignItems:"center",style:{lineHeight:"8px"},children:[Object(E.jsxs)(l.a,{container:!0,xs:5,direction:"column",justify:"flex-start",alignItems:"flex-start",children:[Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"View Subscriptions",checked:B,onChange:function(e){A(!B),H(e)}}),"View Subscriptions"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Create Subscriptions",onChange:function(e){return H(e)}}),"Create Subscriptions"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Update Subscriptions",onChange:function(e){return H(e)}}),"Update Subscriptions"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Delete Subscriptions",onChange:function(e){return H(e)}}),"Delete Subscriptions"]}),Object(E.jsx)("br",{})]}),Object(E.jsx)(Q.a,{orientation:"vertical",xs:2,flexItem:!0}),Object(E.jsxs)(l.a,{container:!0,xs:5,direction:"column",justify:"center",alignItems:"flex-start",style:{paddingLeft:"60px"},children:[Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"View Movies",checked:P,onChange:function(e){R(!P),H(e)}}),"View TV Shows"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Create Movies",onChange:function(e){return H(e)}}),"Create TV Shows"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Update Movies",onChange:function(e){return H(e)}}),"Update TV Shows"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Delete Movies",onChange:function(e){return H(e)}}),"Delete TV Shows"]}),Object(E.jsx)("br",{})]})]}),Object(E.jsx)("br",{}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{onClick:function(){return e.added()},children:"Cancel"}),Object(E.jsx)(p.a,{type:"submit",children:"Save"})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})]})})})},te=n(25),ne=n(209),re=n(199),ae=n(197),ce=n(198),se=n(196),ie=Object(s.g)(Object(R.b)()((function(e){var t=Object(r.useState)({}),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),i=Object(j.a)(s,2),b=i[0],O=i[1],x=Object(r.useState)(""),f=Object(j.a)(x,2),m=f[0],v=f[1],g=Object(r.useState)(""),y=Object(j.a)(g,2),w=y[0],S=y[1],k=Object(r.useState)(!1),M=Object(j.a)(k,2),I=M[0],D=M[1],T=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.deleteUser(e.id);case 2:e.deleted();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){D(!1)};Object(r.useEffect)((function(){(function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.getIndCompUserData(e.id);case 2:n=t.sent,c(n),O(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){!function(){if(b){var e=new Date(a.dateCreated);e=e.toLocaleDateString("en-GB"),v(e);var t="";a.permissions.forEach((function(e){var n=e.replace(/\s+/g,"");n=n[0].toLowerCase()+n.slice(1);var r=Object(te.a)(Object(te.a)({},t),{},Object(H.a)({},n,!0));t=r})),S(t)}}()}),[b]);var L=N(),P=B(),F=U(),R=A();return Object(E.jsxs)("div",{children:[Object(E.jsxs)(l.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(E.jsx)(l.a,{item:12,container:!0,justify:"center",children:Object(E.jsx)("h3",{style:{marginBottom:"10px"},children:a.username})}),Object(E.jsx)(l.a,{container:!0,item:!0,xs:12,justify:"center",children:Object(E.jsx)(Q.a,{style:{width:"500px",height:"2px",marginBottom:"10px"}})}),Object(E.jsxs)(l.a,{item:!0,xs:12,direction:"row",container:!0,justify:"space-evenly",children:[Object(E.jsx)(d.a,{className:L.root,children:Object(E.jsxs)(l.a,{container:!0,justify:"center",textAlign:"center",children:[Object(E.jsx)(l.a,{item:!0,xs:"12",children:Object(E.jsx)("h4",{className:"indUserHeaders",children:"First Name"})}),Object(E.jsx)(d.a,{className:F.root,children:a.fname})]})}),Object(E.jsx)(d.a,{className:L.root,children:Object(E.jsxs)(l.a,{container:!0,justify:"center",textAlign:"center",children:[Object(E.jsx)(l.a,{item:!0,xs:"12",children:Object(E.jsx)("h4",{className:"indUserHeaders",children:"Last Name"})}),Object(E.jsx)(d.a,{className:F.root,children:a.lname})]})})]}),Object(E.jsxs)(l.a,{item:!0,xs:12,container:!0,direction:"row",justify:"space-evenly",children:[Object(E.jsx)(d.a,{className:L.root,children:Object(E.jsxs)(l.a,{container:!0,justify:"center",textAlign:"center",children:[Object(E.jsx)(l.a,{item:!0,xs:"12",children:Object(E.jsx)("h4",{className:"indUserHeaders",children:"Session Timeout"})}),Object(E.jsx)(d.a,{className:F.root,children:a.sessionTimeout/6e4+" Minutes"})]})}),Object(E.jsx)(d.a,{className:L.root,children:Object(E.jsxs)(l.a,{container:!0,justify:"center",textAlign:"center",children:[Object(E.jsx)(l.a,{item:!0,xs:"12",children:Object(E.jsx)("h4",{className:"indUserHeaders",children:"Date Created"})}),Object(E.jsx)(d.a,{className:F.root,children:m})]})})]}),Object(E.jsx)(l.a,{item:!0,xs:12,container:!0,justify:"center",children:Object(E.jsxs)(d.a,{className:P.root,children:[Object(E.jsx)("h4",{children:"Permissions"}),Object(E.jsxs)(l.a,{container:!0,justify:"center",direction:"row",alignItems:"center",style:{lineHeight:"8px"},children:[Object(E.jsxs)(l.a,{container:!0,xs:5,direction:"column",justify:"flex-start",alignItems:"flex-start",children:[Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"View Subscriptions",disabled:!0,className:R.root,checked:!!w.viewSubscriptions}),"View Subscriptions"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Create Subscriptions",disabled:!0,className:R.root,checked:!!w.createSubscriptions}),"Create Subscriptions"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Update Subscriptions",disabled:!0,className:R.root,checked:!!w.updateSubscriptions}),"Update Subscriptions"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Delete Subscriptions",disabled:!0,className:R.root,checked:!!w.deleteSubscriptions}),"Delete Subscriptions"]}),Object(E.jsx)("br",{})]}),Object(E.jsx)(Q.a,{orientation:"vertical",xs:2,flexItem:!0}),Object(E.jsxs)(l.a,{container:!0,xs:5,direction:"column",justify:"center",alignItems:"flex-start",style:{paddingLeft:"10px"},children:[Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"View Movies",disabled:!0,className:R.root,checked:!!w.viewMovies}),"View TV Shows"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Create Movies",disabled:!0,className:R.root,checked:!!w.createMovies}),"Create TV Shows"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Update Movies",disabled:!0,className:R.root,checked:!!w.updateMovies}),"Update TV Shows"]}),Object(E.jsx)("br",{}),Object(E.jsxs)("label",{children:[Object(E.jsx)(K.a,{value:"Delete Movies",disabled:!0,className:R.root,checked:!!w.deleteMovies}),"Delete TV Shows"]}),Object(E.jsx)("br",{})]})]})]})})]}),Object(E.jsx)("br",{}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{onClick:function(){var t={type:"EDITUSER",payload:{id:e.id}};e.dispatch(t),e.history.push("/edituser")},children:"Edit"}),"\xa0",Object(E.jsx)(p.a,{onClick:function(){D(!0)},children:"Delete"})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsxs)(ne.a,{open:I,onClose:V,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsxs)(G.a,{textAlign:"left",children:[Object(E.jsx)(se.a,{id:"alert-dialog-title",children:"Delete ".concat(a.username,"?")}),Object(E.jsx)(ae.a,{children:Object(E.jsx)(ce.a,{id:"alert-dialog-description",style:{color:"#f7fbfc"},children:"".concat(a.username," will be deleted permanently and we will not be able to restore it.")})})]}),Object(E.jsxs)(re.a,{children:[Object(E.jsx)(p.a,{onClick:V,children:"Cancel"}),Object(E.jsx)(p.a,{onClick:function(){V(),T()},autoFocus:!0,children:"Delete"})]})]})]})}))),oe=function(e){var t=Object(R.c)((function(e){return e.user})),n=Object(r.useState)([]),a=Object(j.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),b=Object(j.a)(i,2),O=b[0],h=b[1],p=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getAllUsersIDs();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){p()};return Object(r.useEffect)((function(){var e=!1;t.permissions.forEach((function(t){"View Subscriptions"==t?e=!0:h(Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{children:"We're Sorry!"}),Object(E.jsx)("h4",{children:"This page is visible only to users with the right permission"})]}))})),e&&p()}),[]),Object(r.useEffect)((function(){var t=c.map((function(t,n){return Object(E.jsx)(d.a,{style:{padding:20,paddingTop:0},children:Object(E.jsx)(ie,{id:t,deleted:x,edit:function(){e.edited()}},"user"+n)},"userPaper"+n)}));h(t)}),[c]),Object(E.jsx)("div",{style:{paddingBottom:"30px"},children:Object(E.jsx)(l.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center",children:O})})},ue=function(e){var t=Object(R.c)((function(e){return e.user})),n=Object(r.useState)(Object(E.jsx)(oe,{})),a=Object(j.a)(n,2),c=a[0],s=a[1];Object(r.useEffect)((function(){t.admin||e.history.push("/")}),[]);var i=T();return Object(E.jsxs)(b.a,{children:[Object(E.jsxs)(G.a,{style:{marginBottom:"150px"},children:[Object(E.jsx)($,{history:e.history}),Object(E.jsx)("br",{})]}),Object(E.jsxs)(G.a,{className:"innerBox",children:[Object(E.jsx)("h3",{children:"Users"}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{className:i.outlined,onClick:function(){return s(Object(E.jsx)(oe,{added:function(){return s(Object(E.jsx)(oe,{}))}}))},children:"All Users"}),"\xa0",Object(E.jsx)(p.a,{className:i.outlined,onClick:function(){return s(Object(E.jsx)(ee,{added:function(){return s(Object(E.jsx)(oe,{}))}}))},children:"Add User"})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),c]})]})},je=Object(R.b)()((function(e){var t=Object(R.c)((function(e){return e.user})),n=Object(r.useState)(Object(E.jsx)("span",{})),a=Object(j.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(Object(E.jsx)("span",{})),o=Object(j.a)(i,2),u=o[0],d=o[1];return Object(r.useEffect)((function(){t.admin&&s(Object(E.jsxs)("span",{children:[Object(E.jsx)("input",{type:"button",value:"Users Management",className:c,onClick:function(){return d(Object(E.jsx)(ue,{}))}}),"\xa0"]}))}),[]),Object(E.jsx)("div",{children:Object(E.jsxs)(b.a,{maxWidth:!1,style:{paddingTop:"10vh"},children:[Object(E.jsx)($,{history:e.history}),Object(E.jsxs)(l.a,{children:[Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),u]})]})})})),be=function(e){var t=Object(R.c)((function(e){return e.user})),n=Object(r.useState)("visible"),a=Object(j.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),b=Object(j.a)(i,2),x=b[0],f=b[1],m=Object(r.useState)(""),v=Object(j.a)(m,2),g=v[0],y=v[1],w=Object(r.useState)(""),S=Object(j.a)(w,2),k=S[0],C=S[1],M=Object(r.useState)(""),I=Object(j.a)(M,2),D=I[0],T=I[1],N=Object(r.useState)(null),U=Object(j.a)(N,2),B=U[0],A=U[1],V=function(){var t=Object(u.a)(o.a.mark((function t(){var n,r,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==g||""==k||""==D||null==B){t.next=11;break}return n=new Date(B),r=/\s*(?:,|$)\s*/,a=k.split(r),c={name:g,genres:a,image:D,premiered:n},console.log(c),t.next=8,q.createMovie(c);case 8:e.added(),t.next=12;break;case 11:alert("Please make sure to fill out every field!");case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=!1;(t.permissions.forEach((function(t){"Create Movies"==t&&(e=!0)})),e)||(f(Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{children:"We're Sorry!"}),Object(E.jsx)("h4",{children:"This page is visible only to users with the right permission"})]})),s("collapse"))}),[]),Object(E.jsxs)("div",{children:[x,Object(E.jsx)("span",{className:c,children:Object(E.jsx)(l.a,{container:!0,justify:"center",children:Object(E.jsxs)(d.a,{children:[Object(E.jsx)("h3",{children:"Add a New TV Show"}),Object(E.jsx)(O.a,{label:"Name",onChange:function(e){return y(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{label:"Genres",onChange:function(e){return C(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{label:"Image URL",onChange:function(e){return T(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{label:"Premiered",type:"date",onChange:function(e){return A(e.target.value)},InputLabelProps:{shrink:!0}}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{onClick:e.added,children:"Cancel"}),"\xa0",Object(E.jsx)(p.a,{onClick:V,children:"Create"})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})})})]})},le=Object(s.g)(Object(R.b)()((function(e){var t=Object(R.c)((function(e){return e.user})),n=Object(r.useState)({}),a=Object(j.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),b=Object(j.a)(i,2),O=b[0],x=b[1],f=Object(r.useState)(null),m=Object(j.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)(!1),w=Object(j.a)(y,2),S=w[0],k=w[1],C=Object(r.useState)(!0),M=Object(j.a)(C,2),I=M[0],D=M[1],T=Object(r.useState)(!1),N=Object(j.a)(T,2),U=N[0],B=N[1],A=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getById(t);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var n=Object(u.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=!1,t.permissions.forEach((function(e){"Delete Movies"==e&&(r=!0)})),!r){n.next=8;break}return n.next=5,q.deleteMovie(e.id);case 5:e.deleted(),n.next=9;break;case 8:alert("This option is available only to users with the right permission!");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();e.searched&&I&&(A(e.id),D(!1));var L=function(){B(!1)};return Object(r.useEffect)((function(){A(e.id),k(!0)}),[e.id]),Object(r.useEffect)((function(){if(S){var e=new Date(c.premiered);e=e.getFullYear(),x(e);var t=c.genres;if(0==t.length)g("No genres available!");else{var n="";t.forEach((function(e,r){r==t.length-1?n+=e:n+=e+", "})),g(n)}}}),[c]),Object(E.jsxs)("div",{children:[v&&Object(E.jsx)("div",{children:Object(E.jsxs)(l.a,{container:!0,justify:"center",direction:"column",alignItems:"center",children:[Object(E.jsx)(d.a,{style:{width:"215px",height:"300px",backgroundColor:"#222831",paddingTop:"5px",paddingLeft:"2px",paddingRight:"2px"},children:Object(E.jsx)(G.a,{paddingTop:"0",children:Object(E.jsx)("img",{src:c.image,style:{borderRadius:3}})})}),Object(E.jsxs)("h3",{children:[c.name,", ",O]}),v," ",Object(E.jsx)("br",{})," ",Object(E.jsx)("br",{}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{onClick:function(){var n=!1;if(t.permissions.forEach((function(e){"Update Movies"==e&&(n=!0)})),n){var r={type:"EDITMOVIE",payload:{id:e.id}};e.dispatch(r),e.history.push("/editMovie")}else alert("This option is available only to users with the right permission!")},children:"Edit"}),Object(E.jsx)(p.a,{onClick:function(){B(!0)},children:"Delete"})]}),Object(E.jsxs)(ne.a,{open:U,onClose:L,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsxs)(G.a,{textAlign:"left",children:[Object(E.jsx)(se.a,{id:"alert-dialog-title",children:"Delete ".concat(c.name,"?")}),Object(E.jsx)(ae.a,{children:Object(E.jsx)(ce.a,{id:"alert-dialog-description",style:{color:"#f7fbfc"},children:"".concat(c.name," will be deleted permanently and we will not be able to restore it.")})})]}),Object(E.jsxs)(re.a,{children:[Object(E.jsx)(p.a,{onClick:L,children:"Cancel"}),Object(E.jsx)(p.a,{onClick:function(){L(),V()},autoFocus:!0,children:"Delete"})]})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})}),!v&&Object(E.jsx)("div",{children:Object(E.jsxs)(l.a,{container:!0,justify:"center",alignItems:"center",direction:"column",children:[Object(E.jsx)(J.a,{width:"210px",height:"300px"}),Object(E.jsx)(J.a,{width:"270px",height:"24px"}),Object(E.jsx)(J.a,{width:"200px",height:"24px"}),Object(E.jsx)(J.a,{width:"300px",height:"40px",style:{marginBottom:"30px"}})]})})]})}))),de=n(200),Oe=n(101),he=n.n(Oe),pe=function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),i=Object(j.a)(s,2),b=i[0],l=i[1],d=function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a),l(!0),""!=n&&n.preventDefault(),""!=a){t.next=7;break}e.search(-1),t.next=11;break;case 7:return t.next=9,q.searchMovie(String(a));case 9:r=t.sent,e.search(r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){""==a&&b&&(d(""),l(!1))}),[a]),Object(E.jsx)("div",{children:Object(E.jsx)("form",{onSubmit:function(e){return d(e)},children:Object(E.jsx)(O.a,{placeholder:"Search...",InputProps:{startAdornment:Object(E.jsx)(de.a,{position:"start",style:{marginBottom:"12px"},children:Object(E.jsx)(he.a,{})})},inputProps:{style:{marginBottom:"12px"}},style:{width:"300px",marginBottom:"20px"},onChange:function(e){return c(e.target.value)}})})})},xe=n(206),fe=Object(s.g)((function(e){var t=Object(s.f)(),n=Object(R.c)((function(e){return e.user})),a=Object(r.useState)([]),c=Object(j.a)(a,2),i=c[0],b=c[1],O=Object(r.useState)(""),h=Object(j.a)(O,2),p=h[0],x=h[1],f=Object(r.useState)(!1),m=Object(j.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)(!1),w=Object(j.a)(y,2),S=w[0],k=w[1],C=Object(r.useState)("visible"),M=Object(j.a)(C,2),I=M[0],D=M[1],T=Object(r.useState)(function(){var e=t.pathname.split("/");return Number(e[e.length-1])}()),N=Object(j.a)(T,2),U=N[0],B=N[1],A=Object(r.createRef)(),V=Object(r.useState)(1),L=Object(j.a)(V,2),P=L[0],F=L[1],H=Object(r.useState)(!1),W=Object(j.a)(H,2),G=W[0],z=W[1],J=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getIdsByPage(U);case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getPagesCount();case 2:t=e.sent,F(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){i.length<=1&&(B(U-1),e.history.push("/movies/".concat(U-1)))};return Object(r.useEffect)((function(){var e=!1;(n.permissions.forEach((function(t){"View Movies"==t&&(e=!0,g(!0))})),e)?J():(x(Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{children:"We're Sorry!"}),Object(E.jsx)("h4",{children:"This page is visible only to users with the right permission"})]})),D("collapse"))}),[]),Object(r.useEffect)((function(){Y()}),[U]),Object(r.useEffect)((function(){J()}),[U]),Object(r.useEffect)((function(){!function(){if(v)if(i.length>0){var e=i.map((function(e,t){return Object(E.jsx)(d.a,{xs:4,style:{width:"400px"},children:Object(E.jsx)(le,{id:e,deleted:$,searched:S},"movie"+t)},"movie"+t)}));x(e),k(!1)}else x(Object(E.jsxs)("span",{children:[Object(E.jsx)("br",{}),"No Matching Results!"]}))}()}),[i]),Object(E.jsx)("div",{style:{paddingBottom:"30px"},ref:A,children:Object(E.jsxs)(l.a,{children:[Object(E.jsx)(l.a,{item:!0,xs:12,children:Object(E.jsx)("span",{className:I,children:Object(E.jsx)(pe,{search:function(e){return t=e,b([]),void(-1==t?(J(),z(!1)):(z(!0),k(!0),b(t)));var t}})})}),Object(E.jsx)(l.a,{container:!0,item:!0,direction:"row",justify:"space-evenly",alignItems:"center",children:p}),Object(E.jsx)(l.a,{item:!0,container:!0,justify:"center",style:{marginTop:"20px"},children:Object(E.jsx)(xe.a,{style:{visibility:G||"visible"!=I?"collapse":"visible"},count:P,page:U,boundaryCount:1,siblingCount:1,onChange:function(t,n){B(n),e.history.push("/movies/".concat(n)),A.current.scrollIntoView({behavior:"smooth"})}})})]})})})),me=function(e){var t=Object(r.useState)(e.match.params.page),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(Object(E.jsx)(fe,{history:e.history},a)),i=Object(j.a)(s,2),o=i[0],u=i[1];Object(r.useEffect)((function(){c(e.match.params.page)}),[e.match.params.page]);var l=T();return Object(E.jsxs)(b.a,{children:[Object(E.jsxs)(G.a,{style:{marginBottom:"150px"},children:[Object(E.jsx)($,{history:e.history}),Object(E.jsx)("br",{})]}),Object(E.jsxs)(G.a,{className:"innerBox",children:[Object(E.jsx)("h3",{children:"TV Shows"}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{className:l.outlined,onClick:function(){return u(Object(E.jsx)(fe,{history:e.history}))},children:"All TV Shows"}),"\xa0",Object(E.jsx)(p.a,{className:l.outlined,onClick:function(){return u(Object(E.jsx)(be,{added:function(){return u(Object(E.jsx)(fe,{history:e.history}))}}))},children:"Add TV Show"})]})," ",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),o]})]})},ve=Object(s.g)(Object(R.b)()((function(e){var t=Object(R.c)((function(e){return e.editMovie.id})),n=Object(R.c)((function(e){return e.user})),a=Object(r.useState)({}),c=Object(j.a)(a,2),s=c[0],i=c[1],x=Object(r.useState)(""),f=Object(j.a)(x,2),m=f[0],v=f[1],g=Object(r.useState)(""),y=Object(j.a)(g,2),w=y[0],S=y[1],k=Object(r.useState)(""),C=Object(j.a)(k,2),M=C[0],I=C[1],D=Object(r.useState)(),T=Object(j.a)(D,2),N=T[0],U=T[1],B=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getById(t);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var n=Object(u.a)(o.a.mark((function n(){var r,a,c,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(""!=m&&w.length>0&&""!=M)){n.next=10;break}return r=new Date(N),a=/\s*(?:,|$)\s*/,c=String(w).split(a),s={name:m,image:M,premiered:r,genres:c},n.next=7,q.updateMovie(t,s);case 7:e.history.push("/movies"),n.next=11;break;case 10:alert("Please make sure you enter valid values!");case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){B(t)}),[]),Object(r.useEffect)((function(){!function(){v(s.name),I(s.image),S(s.genres);var e=q.formatDate(s.premiered);U(e)}()}),[s]),Object(r.useEffect)((function(){var e=!1;if(n.permissions.forEach((function(t){"Update Movies"==t&&(e=!0)})),!e);}),[]),Object(E.jsxs)(b.a,{children:[Object(E.jsxs)(G.a,{style:{marginBottom:"150px"},children:[Object(E.jsx)($,{history:e.history}),Object(E.jsx)("br",{})]}),Object(E.jsx)(G.a,{className:"innerBox",children:Object(E.jsx)(l.a,{container:!0,justify:"center",children:Object(E.jsxs)(d.a,{style:{marginTop:"5vh"},children:[Object(E.jsxs)("h3",{children:["Edit ",s.name]}),Object(E.jsx)(O.a,{label:"Name",value:m,onChange:function(e){return v(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{label:"Genres",value:w,onChange:function(e){return S(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{label:"Image URL",value:M,onChange:function(e){return I(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{label:"Premiered",value:N,type:"date",onChange:function(e){return U(e.target.value)},InputLabelProps:{shrink:!0}}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{onClick:function(){e.dispatch({type:"EDITMOVIE",payload:{id:""}}),e.history.push("/movies/1")},children:"Cancel"}),"\xa0",Object(E.jsx)(p.a,{onClick:A,children:"Edit"})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})})})]})}))),ge={getByMemberId:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8000/subs/getbymemberid/".concat(t));case 2:if(null!=(n=e.sent)){e.next=7;break}return e.abrupt("return",-1);case 7:return e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),subscribe:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("http://localhost:8000/subs/",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ye={getAllMembers:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8000/members/getAllMembers");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllMembersIDs:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8000/members/getMembersIDs");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getMemberByID:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8000/members/getById/".concat(t));case 2:return n=e.sent,e.next=5,ge.getByMemberId(t);case 5:return r=e.sent,a={member:n.data,subs:r},e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createMember:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("http://localhost:8000/members/",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteMember:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("http://localhost:8000/members/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateMember:function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("http://localhost:8000/members/".concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},we=function(e){var t=Object(R.c)((function(e){return e.user})),n=Object(r.useState)("visible"),a=Object(j.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),b=Object(j.a)(i,2),l=b[0],x=b[1],f=Object(r.useState)(""),m=Object(j.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)(""),w=Object(j.a)(y,2),S=w[0],k=w[1],C=Object(r.useState)(""),M=Object(j.a)(C,2),I=M[0],D=M[1],T=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==v||""==S||""==I){t.next=7;break}return n={name:v,email:S,city:I},t.next=4,ye.createMember(n);case 4:e.added(),t.next=8;break;case 7:alert("Please make sure to enter valid values!");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=!1;(t.permissions.forEach((function(t){"Create Subscriptions"==t&&(e=!0)})),e)||(x(Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{children:"We're Sorry!"}),Object(E.jsx)("h4",{children:"This page is visible only to users with the right permission"})]})),s("collapse"))}),[]),Object(E.jsxs)("div",{children:[l,Object(E.jsx)("div",{className:c,children:Object(E.jsxs)(d.a,{children:[Object(E.jsx)("h3",{children:"Add a New Member"}),Object(E.jsx)(O.a,{label:"Name",onChange:function(e){return g(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{label:"Email",onChange:function(e){return k(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{label:"City",onChange:function(e){return D(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{onClick:e.added,children:"Cancel"}),"\xa0",Object(E.jsx)(p.a,{onClick:T,children:"Add"})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})})]})},Se=n(102),ke=n(201),Ce=function(e){var t=Object(r.useState)([]),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)([]),i=Object(j.a)(s,2),b=i[0],l=i[1],h=Object(r.useState)(!1),x=Object(j.a)(h,2),f=x[0],m=x[1],v=Object(r.useState)([]),g=Object(j.a)(v,2),y=g[0],w=g[1],S=Object(r.useState)(""),k=Object(j.a)(S,2),C=k[0],M=k[1],I=Object(r.useState)(""),T=Object(j.a)(I,2),N=T[0],U=T[1],B=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getNamesAndIds();case 2:(t=e.sent).sort((function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0})),c(t),m(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){if(e.subs.length>0){var t=e.subs.map((function(e){return e.movieId}));l(t)}},V=function(){var e=Object(F.a)(a);b.forEach((function(t){var n=e.filter((function(e){return e.id!=t}));e=n}));var t=e.map((function(e,t){return Object(E.jsx)(ke.a,{value:e.id,children:e.name},e.id)}));w(t)},L=function(){var t=Object(u.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==N||""==C){t.next=8;break}return n=new Date(N),r={memberId:e.memberId,movies:[{movieId:C,date:n}]},t.next=5,ge.subscribe(r);case 5:e.added(),t.next=9;break;case 8:alert("Please make sure to choose a TV Show and date!");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){B()}),[]),Object(r.useEffect)((function(){A()}),[]),Object(r.useEffect)((function(){f&&V()}),[f]),Object(r.useEffect)((function(){A(),V()}),[e]);var P=D();return Object(E.jsx)("div",{children:Object(E.jsxs)(d.a,{style:{backgroundColor:"#222831",width:"500px"},children:[Object(E.jsx)("h3",{children:"Subscribe to a New TV Show"}),Object(E.jsxs)(O.a,{defaultValue:"",select:!0,label:"TV Show",style:{backgroundColor:"#393e46"},InputLabelProps:{shrink:!0},onChange:function(e){console.log(e.target.value),M(e.target.value)},children:[Object(E.jsx)("br",{}),y]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{type:"date",label:"Date Watched",style:{backgroundColor:"#393e46"},InputLabelProps:{shrink:!0},onChange:function(e){return U(e.target.value)}})," ",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(p.a,{className:P.outlined,onClick:L,children:"Subscribe"}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})})},Me=n(158),Ie=n(202),Ee=function(e){var t=Object(r.useState)([]),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(null),i=Object(j.a)(s,2),b=i[0],d=i[1],O=Object(r.useState)(!1),h=Object(j.a)(O,2),x=h[0],f=h[1],m=Object(r.useState)("collapse"),v=Object(j.a)(m,2),g=v[0],y=v[1],w=function(){var t=Object(u.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.subs,t.next=3,S(n);case 3:r=t.sent,c(r),f(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=Object(Se.a)(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=12;break}return c=a.value,e.next=8,q.getNameById(c.movieId);case 8:s=e.sent,n.push(s);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){y("collapse"==g?"visible":"collapse")};return Object(r.useEffect)((function(){w()}),[]),Object(r.useEffect)((function(){w()}),[e.subs]),Object(r.useEffect)((function(){x&&function(){var t=a.map((function(t,n){return{name:t,date:e.subs[n].date,id:e.subs[n].movieId}}));t.sort((function(e,t){return new Date(e.date)-new Date(t.date)}));var n=t.map((function(e,t){var n=e.date,r=new Date(n);return r=r.toLocaleDateString("en-gb"),Object(E.jsx)(Me.a,{children:Object(E.jsx)(Ie.a,{children:Object(E.jsxs)("span",{children:[Object(E.jsx)(Z.b,{style:{color:"#ffd369"},to:"/movie/".concat(e.id),children:e.name}),", ",r]})})},"movie"+t)}));d(n)}()}),[1==x]),Object(E.jsxs)("div",{children:[b&&Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{style:{marginBottom:"10px"},children:"TV Shows Watched"}),Object(E.jsx)(Q.a,{style:{marginBottom:"10px",height:"2px"}}),Object(E.jsx)("ul",{children:b}),Object(E.jsx)("br",{})]}),!b&&Object(E.jsx)("div",{children:Object(E.jsxs)(l.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(E.jsx)(J.a,{width:"200px"}),Object(E.jsx)(J.a,{height:"325px",width:"350px"})]})}),Object(E.jsx)(p.a,{onClick:k,style:{width:"300px"},children:"Subscribe to a New TV Show"}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("div",{className:g,children:Object(E.jsx)(Ce,{subs:e.subs,subbed:k,memberId:e.memberId,added:function(){k(),f(!1),e.added()}})}),Object(E.jsx)("br",{})]})},De=Object(s.g)(Object(R.b)()((function(e){var t=Object(R.c)((function(e){return e.user})),n=Object(r.useState)({}),a=Object(j.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(!1),b=Object(j.a)(i,2),O=b[0],x=b[1],f=Object(r.useState)(-1),m=Object(j.a)(f,2),v=(m[0],m[1],Object(r.useState)([])),g=Object(j.a)(v,2),y=g[0],w=g[1],S=Object(r.useState)(""),k=Object(j.a)(S,2),C=k[0],M=k[1],I=N(),D=(B(),U()),T=Object(r.useState)(!1),A=Object(j.a)(T,2),V=A[0],L=A[1],P=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ye.getMemberByID(e.id);case 2:n=t.sent,s(n.member),null!=n.subs&&w(n.subs.movies),x(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),F=function(){x(!1),P()},H=function(){var n=Object(u.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=!1,t.permissions.forEach((function(e){"Delete Subscriptions"==e&&(r=!0)})),!r){n.next=8;break}return n.next=5,ye.deleteMember(e.id);case 5:e.deleted(),n.next=9;break;case 8:alert("This option is available only to users with the right permission!");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),W=function(){var n=Object(u.a)(o.a.mark((function n(){var r,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=!1,t.permissions.forEach((function(e){"Update Movies"==e&&(r=!0)})),r?(a={type:"EDITMEMBER",payload:{id:e.id}},e.dispatch(a),e.history.push("/editMember")):alert("This option is available only to users with the right permission!");case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),z=function(){L(!0)},J=function(){L(!1)};return Object(r.useEffect)((function(){P()}),[]),Object(r.useEffect)((function(){!function(){if(O){var t=Object(E.jsxs)(l.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center",children:[Object(E.jsx)("h3",{xs:12,style:{marginBottom:"10px"},children:c.name}),Object(E.jsx)(Q.a,{xs:12,style:{marginBottom:"10px",height:"2px",width:"500px"}}),Object(E.jsxs)(l.a,{container:!0,item:!0,xs:12,justify:"space-evenly",children:[Object(E.jsx)(d.a,{xs:6,className:I.root,children:Object(E.jsxs)(l.a,{container:!0,justify:"center",textAlign:"center",children:[Object(E.jsx)(l.a,{item:!0,xs:12,children:Object(E.jsx)("h4",{className:"indUserHeaders",children:"Email"})}),Object(E.jsx)(d.a,{className:D.root,style:{width:"auto",paddingLeft:"5px",paddingRight:"5px"},children:c.email})]})}),Object(E.jsx)(d.a,{xs:6,className:I.root,children:Object(E.jsxs)(l.a,{container:!0,justify:"center",textAlign:"center",children:[Object(E.jsx)(l.a,{item:!0,xs:12,children:Object(E.jsx)("h4",{className:"indUserHeaders",children:"City"})}),Object(E.jsx)(d.a,{className:D.root,children:c.city})]})})]}),Object(E.jsx)("br",{}),Object(E.jsxs)(h.a,{xs:12,children:[Object(E.jsx)(p.a,{onClick:W,children:"Edit"}),Object(E.jsx)(p.a,{onClick:z,children:"Delete"})]}),Object(E.jsx)("br",{}),Object(E.jsx)(Ee,{subs:y,memberId:e.id,added:F})]});M(t)}}()}),[O]),Object(E.jsxs)("div",{children:[C,Object(E.jsxs)(ne.a,{open:V,onClose:J,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsxs)(G.a,{textAlign:"left",children:[Object(E.jsx)(se.a,{id:"alert-dialog-title",children:"Delete ".concat(c.name,"?")}),Object(E.jsx)(ae.a,{children:Object(E.jsx)(ce.a,{id:"alert-dialog-description",style:{color:"#f7fbfc"},children:"".concat(c.name," will be deleted permanently and we will not be able to restore it.")})})]}),Object(E.jsxs)(re.a,{children:[Object(E.jsx)(p.a,{onClick:J,children:"Cancel"}),Object(E.jsx)(p.a,{onClick:function(){J(),H()},autoFocus:!0,children:"Delete"})]})]})]})}))),Te=function(e){var t=Object(R.c)((function(e){return e.user})),n=Object(r.useState)([]),a=Object(j.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),b=Object(j.a)(i,2),O=b[0],h=b[1],p=Object(r.useState)(""),x=Object(j.a)(p,2),f=x[0],m=x[1],v=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.getAllMembersIDs();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){!function(){var e=c.map((function(e,t){return Object(E.jsx)(d.a,{children:Object(E.jsx)(De,{id:e,deleted:v},"member"+t)},"memberPaper"+t)}));h(e)}()}),[c]),Object(r.useEffect)((function(){var e=!1;(t.permissions.forEach((function(t){"View Subscriptions"==t&&(e=!0)})),e)?v():m(Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{children:"We're Sorry!"}),Object(E.jsx)("h4",{children:"This page is visible only to users with the right permission"})]}))}),[]),Object(E.jsx)("div",{style:{paddingBottom:"30px"},children:Object(E.jsxs)(l.a,{container:!0,justify:"space-evenly",alignItems:"center",direction:"column",children:[O,f]})})},Ne=function(e){var t=Object(r.useState)(Object(E.jsx)(Te,{})),n=Object(j.a)(t,2),a=n[0],c=n[1],s=T();return Object(E.jsxs)(b.a,{children:[Object(E.jsxs)(G.a,{style:{marginBottom:"150px"},children:[Object(E.jsx)($,{history:e.history}),Object(E.jsx)("br",{})]}),Object(E.jsx)(G.a,{className:"innerBox",children:Object(E.jsxs)(l.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center",children:[Object(E.jsx)("h3",{children:"Subscriptions"}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{className:s.outlined,onClick:function(){return c(Object(E.jsx)(Te,{}))},children:"All Members"}),"\xa0",Object(E.jsx)(p.a,{className:s.outlined,onClick:function(){return c(Object(E.jsx)(we,{added:function(){return c(Object(E.jsx)(Te,{}))}}))},children:"Add Member"})]}),a]})})]})},Ue=Object(R.b)()((function(e){var t=Object(r.useState)({}),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),i=Object(j.a)(s,2),O=i[0],x=i[1],f=Object(r.useState)(""),m=Object(j.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)(!1),w=Object(j.a)(y,2),S=w[0],k=w[1],C=Object(r.useState)(!0),M=Object(j.a)(C,2),I=M[0],D=M[1],T=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getById(t);case 2:n=e.sent,c(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.deleteMovie(e.match.params.id);case 2:e.deleted();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.searched&&I&&(T(e.match.params.id),D(!1)),Object(r.useEffect)((function(){T(e.match.params.id),k(!0)}),[]),Object(r.useEffect)((function(){if(S){var e=new Date(a.premiered);e=e.getFullYear(),x(e);var t=a.genres;if(0==t.length)g("No genres available!");else{var n="";t.forEach((function(e,r){r==t.length-1?n+=e:n+=e+", "})),g(n)}}}),[a]),Object(E.jsxs)(b.a,{children:[Object(E.jsxs)(G.a,{style:{marginBottom:"150px"},children:[Object(E.jsx)($,{history:e.history}),Object(E.jsx)("br",{})]}),Object(E.jsx)(G.a,{className:"innerBox",children:Object(E.jsx)(l.a,{container:!0,justify:"center",children:Object(E.jsxs)(d.a,{style:{marginTop:"20px"},children:[v&&Object(E.jsx)("div",{children:Object(E.jsxs)(l.a,{container:!0,justify:"center",direction:"column",alignItems:"center",children:[Object(E.jsx)(d.a,{style:{width:"215px",height:"300px",backgroundColor:"#222831",paddingTop:"5px",paddingLeft:"2px",paddingRight:"2px"},children:Object(E.jsx)(G.a,{paddingTop:"0",children:Object(E.jsx)("img",{src:a.image,style:{borderRadius:3}})})}),Object(E.jsxs)("h3",{children:[a.name,", ",O]}),v," ",Object(E.jsx)("br",{})," ",Object(E.jsx)("br",{}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{onClick:function(){e.history.push("/subscriptions")},children:"Back"}),Object(E.jsx)(p.a,{onClick:function(){var t={type:"EDITMOVIE",payload:{id:e.match.params.id}};e.dispatch(t),e.history.push("/editMovie")},children:"Edit"}),Object(E.jsx)(p.a,{onClick:N,children:"Delete"})]})]})}),!v&&Object(E.jsx)("span",{children:Object(E.jsxs)(l.a,{container:!0,justify:"center",alignItems:"center",direction:"column",children:[Object(E.jsx)(J.a,{width:"210px",height:"300px"}),Object(E.jsx)(J.a,{width:"270px",height:"24px"}),Object(E.jsx)(J.a,{width:"200px",height:"24px"}),Object(E.jsx)(J.a,{width:"400px",height:"40px",style:{marginBottom:0}})]})}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})})})]})})),Be=Object(s.g)(Object(R.b)()((function(e){var t=Object(R.c)((function(e){return e.editMember.id})),n=Object(r.useState)({}),a=Object(j.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),x=Object(j.a)(i,2),f=x[0],m=x[1],v=Object(r.useState)(""),g=Object(j.a)(v,2),y=g[0],w=g[1],S=Object(r.useState)(""),k=Object(j.a)(S,2),C=k[0],M=k[1],I=function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.getMemberByID(t);case 2:n=e.sent,s(n.member);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var n=Object(u.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""==f||""==y||""==C){n.next=7;break}return r={name:f,email:y,city:C},n.next=4,ye.updateMember(t,r);case 4:e.history.push("/subscriptions"),n.next=8;break;case 7:alert("Please make sure to enter valid values!");case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){I()}),[]),Object(r.useEffect)((function(){m(c.name),w(c.email),M(c.city)}),[c]),Object(E.jsxs)(b.a,{children:[Object(E.jsxs)(G.a,{style:{marginBottom:"160px"},children:[Object(E.jsx)($,{history:e.history}),Object(E.jsx)("br",{})]}),Object(E.jsx)(G.a,{className:"innerBox",children:Object(E.jsx)(l.a,{container:!0,justify:"center",children:Object(E.jsxs)(d.a,{children:[Object(E.jsxs)("h3",{children:["Edit ",c.name]}),Object(E.jsx)(O.a,{label:"Name",value:f,onChange:function(e){return m(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{label:"Email",value:y,onChange:function(e){return w(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{label:"City",value:C,onChange:function(e){return M(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(p.a,{onClick:function(){e.dispatch({type:"EDITMEMBER",payload:{id:""}}),e.history.push("/subscriptions")},children:"Cancel"}),"\xa0",Object(E.jsx)(p.a,{onClick:D,children:"Edit"})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})})})]})}))),Ae=function(e){return Object(E.jsx)("div",{children:Object(E.jsxs)(s.c,{children:[Object(E.jsx)(s.a,{path:"/",exact:!0,component:_}),Object(E.jsx)(s.a,{path:"/createAccount",component:P}),Object(E.jsx)(s.a,{path:"/mainPage",component:je}),Object(E.jsx)(s.a,{path:"/movies/:page",component:me}),Object(E.jsx)(s.a,{path:"/subscriptions",component:Ne}),Object(E.jsx)(s.a,{path:"/editUser",component:X}),Object(E.jsx)(s.a,{path:"/editmovie",component:ve}),Object(E.jsx)(s.a,{path:"/editMember",component:Be}),Object(E.jsx)(s.a,{path:"/usersManagement",component:ue}),Object(E.jsx)(s.a,{path:"/movie/:id",component:Ue})]})})},Ve=n(203);var Le=function(){return Object(E.jsx)("div",{children:Object(E.jsx)(Ve.a,{theme:L,children:Object(E.jsx)(Ae,{})})})},Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,212)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Fe=n(66),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{id:"",fname:"",admin:!1,permissions:[],timer:"",sessionTimeout:""},editUser:{id:""},editMovie:{id:""},editMember:{id:""}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(te.a)(Object(te.a)({},e),{},{user:{id:t.payload.id,fname:t.payload.fname,admin:t.payload.admin,permissions:t.payload.permissions,timer:t.payload.timer,sessionTimeout:t.payload.sessionTimeout}});case"LOGOUT":return Object(te.a)(Object(te.a)({},e),{},{user:{id:"",fname:"",admin:!1,permissions:[],timer:"",sessionTimeout:""}});case"EDITUSER":return Object(te.a)(Object(te.a)({},e),{},{editUser:{id:t.payload.id}});case"EDITMOVIE":return Object(te.a)(Object(te.a)({},e),{},{editMovie:{id:t.payload.id}});case"EDITMEMBER":return Object(te.a)(Object(te.a)({},e),{},{editMember:{id:t.payload.id}});default:return Object(te.a)({},e)}},He=Object(Fe.b)(Re);c.a.render(Object(E.jsx)(Z.a,{basename:"/shows-project",children:Object(E.jsx)(R.a,{store:He,children:Object(E.jsx)(Le,{})})}),document.getElementById("root")),Pe()},24:function(e,t,n){}},[[154,1,2]]]);
//# sourceMappingURL=main.da5d006b.chunk.js.map